<!DOCTYPE html>
<html class="writer-html5" lang="es" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Clase 5: Más características de Funciones &mdash; documentación de Clases de Python - </title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=0df96459" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=330c1f8c" />
      <link rel="stylesheet" type="text/css" href="_static/rtd_overrides.css?v=5bd222a9" />

  
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=e2bb6099"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/translations.js?v=efdbd0b9"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="Clase 6: Objetos y administración de errores" href="clase_06.html" />
    <link rel="prev" title="Clase 4: Funciones" href="clase_04.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Clases de Python
              <img src="_static/logo.svg" class="logo" alt="Logotipo"/>
          </a>
              <div class="version">
                IB - 2025
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Buscar documentos" aria-label="Buscar documentos" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Dictado de las clases</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="clase_00.html">Clase 0: Introducción al lenguaje Python orientado a Ingenierías y Física</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_01.html">Clase 1: Introducción al lenguaje</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_02.html">Clase 2: Modularización y tipos compuestos</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_03.html">Clase 3: Tipos complejos y control de flujo</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_04.html">Clase 4: Funciones</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Clase 5: Más características de Funciones</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#empacar-y-desempacar-argumentos">Empacar y desempacar argumentos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#funciones-que-devuelven-funciones">Funciones que devuelven funciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ejemplo-polinomio-interpolador">Ejemplo: Polinomio interpolador</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ejercicios-05-a">Ejercicios 05 (a)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#funciones-que-toman-como-argumento-una-funcion">Funciones que toman como argumento una función</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aplicacion-ordenamiento-de-listas">Aplicacion: Ordenamiento de listas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#funciones-anonimas">Funciones anónimas</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ejemplo-integracion-numerica">Ejemplo: Integración numérica</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#uso-de-funciones-anonimas">Uso de funciones anónimas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ejercicios-05-b">Ejercicios 05 (b)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#funciones-y-decoradores">Funciones y decoradores</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#funciones-que-aceptan-y-devuelven-funciones-decoradores">Funciones que aceptan y devuelven funciones (Decoradores)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#decoradores-un-ejemplo-mas-util">Decoradores, un ejemplo más útil</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ejercicios-05-c">Ejercicios 05 (c)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#programacion-funcional-con-python">Programación funcional con Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#los-errores-al-programar">Los errores al programar</a></li>
<li class="toctree-l3"><a class="reference internal" href="#los-errores-en-notebooks">Los errores en notebooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mutabilidad">Mutabilidad</a></li>
<li class="toctree-l3"><a class="reference internal" href="#funciones">Funciones</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#funciones-puras">Funciones puras</a></li>
<li class="toctree-l4"><a class="reference internal" href="#funciones-de-primer-orden-o-primera-clase">Funciones de primer orden o primera clase</a></li>
<li class="toctree-l4"><a class="reference internal" href="#funciones-de-orden-superior">Funciones de orden superior</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#inmutabilidad">Inmutabilidad</a></li>
<li class="toctree-l3"><a class="reference internal" href="#no-mas-loops">No más loops</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ejercicios-05-d">Ejercicios 05 (d)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="clase_06.html">Clase 6: Objetos y administración de errores</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_07.html">Clase 7: Persistencia de datos y módulos de biblioteca standard</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_08.html">Clase 8: Más sobre objetos</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_09.html">Clase 9: Control de versiones y módulos</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_10.html">Clase 10: Introducción a Numpy y Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_11.html">Clase 11: Visualización</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Ejercicios de Clase</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ejercicios.html">Ejercicios</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="entregas_ejercicios.html">Entrega de ejercicios</a></li>
<li class="toctree-l1"><a class="reference internal" href="programa_detalle.html">Programa Detallado</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Clases de Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Clase 5: Más características de Funciones</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/clase_05.rst.txt" rel="nofollow"> Ver código fuente de la página</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="clase-5-mas-caracteristicas-de-funciones">
<span id="clase-05"></span><h1>Clase 5: Más características de Funciones<a class="headerlink" href="#clase-5-mas-caracteristicas-de-funciones" title="Link to this heading"></a></h1>
<hr class="docutils" />
<section id="empacar-y-desempacar-argumentos">
<h2>Empacar y desempacar argumentos<a class="headerlink" href="#empacar-y-desempacar-argumentos" title="Link to this heading"></a></h2>
<p>Cuando en <strong>Python</strong> creamos una función que acepta un número arbitrario
de argumentos estamos utilizando una habilidad del lenguaje que es el
“empaquetamiento” y “desempaquetamiento” automático de variables.</p>
<p>Al definir un número variable de argumentos de la forma:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">v</span><span class="p">):</span>
<span class="o">...</span>
</pre></div>
</div>
<p>y luego utilizarla en alguna de las formas:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;hola&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span> <span class="s1">&#39;hola&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Python</strong> automáticamente convierte los argumentos en una única tupla:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                 <span class="o">--&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;hola&#39;</span><span class="p">)</span>          <span class="o">--&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;hola&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span> <span class="s1">&#39;hola&#39;</span><span class="p">)</span>   <span class="o">--&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span><span class="s1">&#39;hola&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Análogamente, cuando utilizamos funciones podemos desempacar múltiples
valores en los argumentos de llamada a las funciones.</p>
<p>Si definimos una función que recibe un número determinado de argumentos</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="o">...</span>
</pre></div>
</div>
<p>y definimos una lista (o tupla)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a1</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">c1</span><span class="p">]</span>
</pre></div>
</div>
<p>podemos realizar la llamada a la función utilizando la notación
“asterisco” o “estrella”</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="p">(</span><span class="o">*</span><span class="n">t1</span><span class="p">)</span>             <span class="o">--&gt;</span>  <span class="n">g</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">c1</span><span class="p">)</span>
</pre></div>
</div>
<p>Esta notación no se puede utilizar en cualquier contexto. Por ejemplo,
es un error tratar de hacer</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t2</span> <span class="o">=</span> <span class="o">*</span><span class="n">t1</span>
</pre></div>
</div>
<p>pero en el contexto de funciones podemos “desempacarlos” para
convertirlos en varios argumentos que acepta la función usando la
expresión con asterisco. Veamos lo que esto quiere decir con la función
<code class="docutils literal notranslate"><span class="pre">caida_libre()</span></code> definida anteriormente</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">caida_libre</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">h0</span><span class="p">,</span> <span class="n">v0</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mf">9.8</span><span class="p">):</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;Devuelve la velocidad y la posición de una partícula en</span>
<span class="sd">  caída libre para condiciones iniciales dadas</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  t : float</span>
<span class="sd">      el tiempo al que queremos realizar el cálculo</span>
<span class="sd">  h0: float</span>
<span class="sd">      la altura inicial</span>
<span class="sd">  v0: float (opcional)</span>
<span class="sd">      la velocidad inicial (default = 0.0)</span>
<span class="sd">   g: float (opcional)</span>
<span class="sd">      valor de la aceleración de la gravedad (default = 9.8)</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">  (v,h):  tuple of floats</span>
<span class="sd">       v= v0 - g*t</span>
<span class="sd">       h= h0 - v0*t -g*t^2/2</span>

<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">v</span> <span class="o">=</span> <span class="n">v0</span> <span class="o">-</span> <span class="n">g</span><span class="o">*</span><span class="n">t</span>
  <span class="n">h</span> <span class="o">=</span> <span class="n">h0</span> <span class="o">-</span> <span class="n">v0</span><span class="o">*</span><span class="n">t</span> <span class="o">-</span> <span class="n">g</span><span class="o">*</span><span class="n">t</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="mf">2.</span>
  <span class="k">return</span> <span class="n">v</span><span class="p">,</span><span class="n">h</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">datos</span> <span class="o">=</span> <span class="p">(</span><span class="mf">5.4</span><span class="p">,</span> <span class="mf">1000.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>        <span class="c1"># Una lista (tuple en realidad)</span>
<span class="c1"># print (caida_libre(datos[0], datos[1], datos[2]))</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">caida_libre</span><span class="p">(</span><span class="o">*</span><span class="n">datos</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">-</span><span class="mf">52.92000000000001</span><span class="p">,</span> <span class="mf">857.116</span><span class="p">)</span>
</pre></div>
</div>
<p>En la llamada a la función, la expresión <code class="docutils literal notranslate"><span class="pre">*datos</span></code> le indica al
intérprete Python que la secuencia (tuple) debe convertirse en una
sucesión de argumentos, que es lo que acepta la función.</p>
<p>Similarmente, para desempacar un diccionario usamos la notación
<code class="docutils literal notranslate"><span class="pre">**diccionario</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># diccionario, caída libre en la luna</span>
<span class="n">otros_datos</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span><span class="mf">5.4</span><span class="p">,</span> <span class="s1">&#39;h0&#39;</span><span class="p">:</span> <span class="mf">1000.</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span> <span class="p">:</span> <span class="mf">1.625</span><span class="p">}</span>
<span class="n">v</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">caida_libre</span><span class="p">(</span><span class="o">**</span><span class="n">otros_datos</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;v=</span><span class="si">{}</span><span class="s1">, h=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">h</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">v</span><span class="o">=-</span><span class="mf">8.775</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mf">976.3075</span>
</pre></div>
</div>
<p>En resumen:</p>
<ul class="simple">
<li><p>la notación <code class="docutils literal notranslate"><span class="pre">(*datos)</span></code> convierte la tupla (o lista) en los tres
argumentos que acepta la función caída libre. Los siguientes llamados
son equivalentes:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">caida_libre</span><span class="p">(</span><span class="o">*</span><span class="n">datos</span><span class="p">)</span>
<span class="n">caida_libre</span><span class="p">(</span><span class="n">datos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">datos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">datos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">caida_libre</span><span class="p">(</span><span class="mf">5.4</span><span class="p">,</span> <span class="mf">1000.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>la notación <code class="docutils literal notranslate"><span class="pre">(**otros_datos)</span></code> desempaca el diccionario en pares
<code class="docutils literal notranslate"><span class="pre">clave=valor</span></code>, siendo equivalentes los dos llamados:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">caida_libre</span><span class="p">(</span><span class="o">**</span><span class="n">otros_datos</span><span class="p">)</span>
<span class="n">caida_libre</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mf">5.4</span><span class="p">,</span> <span class="n">h0</span><span class="o">=</span><span class="mf">1000.</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="funciones-que-devuelven-funciones">
<h2>Funciones que devuelven funciones<a class="headerlink" href="#funciones-que-devuelven-funciones" title="Link to this heading"></a></h2>
<p>Las funciones pueden ser pasadas como argumento y pueden ser retornadas
por una función, como cualquier otro objeto (números, listas, tuples,
cadenas de caracteres, diccionarios, etc). Veamos un ejemplo simple de
funciones que devuelven una función:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">crear_potencia</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="s2">&quot;Devuelve la función x^n&quot;</span>
  <span class="k">def</span> <span class="nf">potencia</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="s2">&quot;potencia </span><span class="si">{}</span><span class="s2">-esima de x&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="n">n</span>
  <span class="k">return</span> <span class="n">potencia</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">crear_potencia</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># f = x^3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">cubos</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">function</span> <span class="n">crear_potencia</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">potencia</span> <span class="n">at</span> <span class="mh">0x7f4126ec8180</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cubos</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">64</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Help</span> <span class="n">on</span> <span class="n">function</span> <span class="n">potencia</span> <span class="ow">in</span> <span class="n">module</span> <span class="n">__main__</span><span class="p">:</span>

<span class="n">potencia</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">crear_potencia</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Help</span> <span class="n">on</span> <span class="n">function</span> <span class="n">crear_potencia</span> <span class="ow">in</span> <span class="n">module</span> <span class="n">__main__</span><span class="p">:</span>

<span class="n">crear_potencia</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">Devuelve</span> <span class="n">la</span> <span class="n">función</span> <span class="n">x</span><span class="o">^</span><span class="n">n</span>
</pre></div>
</div>
</section>
<section id="ejemplo-polinomio-interpolador">
<h2>Ejemplo: Polinomio interpolador<a class="headerlink" href="#ejemplo-polinomio-interpolador" title="Link to this heading"></a></h2>
<p>Veamos ahora una función que retorna una función. Supongamos que tenemos
una tabla de puntos <code class="docutils literal notranslate"><span class="pre">(x,y)</span></code> por los que pasan nuestros datos y
queremos interpolar los datos con un polinomio.</p>
<p>Sabemos que dados <code class="docutils literal notranslate"><span class="pre">M-1</span></code> puntos, hay un único polinomio de grado
<code class="docutils literal notranslate"><span class="pre">M-1</span></code> que pasa por todos los puntos. En este ejemplo utilizamos la
fórmula de Lagrange para obtenerlo.</p>
<div class="math notranslate nohighlight">
\[P(x) = \sum_{j=0}^{M-1} y_j l_j(x)\]</div>
<div class="math notranslate nohighlight">
\[l_j(x) = \prod_{k=0,k \neq j}^{M-1} \frac{x-x_k}{x_j-x_k}\]</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">polinomio_interp</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;Devuelve el polinomio interpolador que pasa por los puntos (x_i, y_i)</span>

<span class="sd">    Warning: La implementación es numéricamente inestable. Funciona para algunos puntos (menor a 20)</span>

<span class="sd">  Keyword Arguments:</span>
<span class="sd">  x -- Lista con los valores de x</span>
<span class="sd">  y -- Lista con los valores de y</span>
<span class="sd">  &quot;&quot;&quot;</span>

  <span class="n">M</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">polin</span><span class="p">(</span><span class="n">xx</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evalúa el polinomio interpolador de Lagrange&quot;&quot;&quot;</span>
    <span class="n">P</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">M</span><span class="p">):</span>
      <span class="n">pt</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
      <span class="c1"># Cálculo de l_</span>
      <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">M</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="n">j</span><span class="p">:</span>
          <span class="k">continue</span>
        <span class="n">fac</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="n">pt</span> <span class="o">*=</span> <span class="p">(</span><span class="n">xx</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="o">/</span> <span class="n">fac</span>
      <span class="n">P</span> <span class="o">+=</span> <span class="n">pt</span>
    <span class="k">return</span> <span class="n">P</span>

  <span class="k">return</span> <span class="n">polin</span>
</pre></div>
</div>
<p>Lo que obtenemos al llamar a esta función es una función</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">polinomio_interp</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">function</span> <span class="n">__main__</span><span class="o">.</span><span class="n">polinomio_interp</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">polin</span><span class="p">(</span><span class="n">xx</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Help</span> <span class="n">on</span> <span class="n">function</span> <span class="n">polin</span> <span class="ow">in</span> <span class="n">module</span> <span class="n">__main__</span><span class="p">:</span>

<span class="n">polin</span><span class="p">(</span><span class="n">xx</span><span class="p">)</span>
    <span class="n">Evalúa</span> <span class="n">el</span> <span class="n">polinomio</span> <span class="n">interpolador</span> <span class="n">de</span> <span class="n">Lagrange</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="mf">3.4</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">6.8</span>
</pre></div>
</div>
<p>Este es el resultado esperado porque queremos el polinomio que pasa por
dos puntos (una recta), y en este caso es la recta <span class="math notranslate nohighlight">\(y = 2x\)</span>.
Veamos cómo usarlo, en forma más general:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">xmax</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">step</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">5</span> <span class="o">/</span> <span class="n">step</span><span class="p">)</span>

<span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>   <span class="c1"># x^2</span>
<span class="n">f2</span> <span class="o">=</span> <span class="n">polinomio_interp</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>

<span class="n">x3</span><span class="p">,</span> <span class="n">y3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">54</span><span class="p">]</span>  <span class="c1"># 2 x^3</span>
<span class="n">f3</span> <span class="o">=</span> <span class="n">polinomio_interp</span><span class="p">(</span><span class="n">x3</span><span class="p">,</span> <span class="n">y3</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1"> x   f2(x)   f3(x)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="mi">18</span> <span class="o">*</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
  <span class="n">x</span> <span class="o">=</span> <span class="n">step</span> <span class="o">*</span> <span class="n">j</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">  </span><span class="si">{</span><span class="n">f2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">:</span><span class="s1">5.2f</span><span class="si">}</span><span class="s1">  </span><span class="si">{</span><span class="n">f3</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">:</span><span class="s1">6.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">x</span>   <span class="n">f2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>   <span class="n">f3</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="o">------------------</span>
<span class="mf">0.0</span>   <span class="mf">0.00</span>    <span class="mf">0.00</span>
<span class="mf">0.2</span>   <span class="mf">0.04</span>    <span class="mf">0.02</span>
<span class="mf">0.4</span>   <span class="mf">0.16</span>    <span class="mf">0.13</span>
<span class="mf">0.6</span>   <span class="mf">0.36</span>    <span class="mf">0.43</span>
<span class="mf">0.8</span>   <span class="mf">0.64</span>    <span class="mf">1.02</span>
<span class="mf">1.0</span>   <span class="mf">1.00</span>    <span class="mf">2.00</span>
<span class="mf">1.2</span>   <span class="mf">1.44</span>    <span class="mf">3.46</span>
<span class="mf">1.4</span>   <span class="mf">1.96</span>    <span class="mf">5.49</span>
<span class="mf">1.6</span>   <span class="mf">2.56</span>    <span class="mf">8.19</span>
<span class="mf">1.8</span>   <span class="mf">3.24</span>   <span class="mf">11.66</span>
<span class="mf">2.0</span>   <span class="mf">4.00</span>   <span class="mf">16.00</span>
<span class="mf">2.2</span>   <span class="mf">4.84</span>   <span class="mf">21.30</span>
<span class="mf">2.4</span>   <span class="mf">5.76</span>   <span class="mf">27.65</span>
<span class="mf">2.6</span>   <span class="mf">6.76</span>   <span class="mf">35.15</span>
<span class="mf">2.8</span>   <span class="mf">7.84</span>   <span class="mf">43.90</span>
<span class="mf">3.0</span>   <span class="mf">9.00</span>   <span class="mf">54.00</span>
<span class="mf">3.2</span>  <span class="mf">10.24</span>   <span class="mf">65.54</span>
<span class="mf">3.4</span>  <span class="mf">11.56</span>   <span class="mf">78.61</span>
<span class="mf">3.6</span>  <span class="mf">12.96</span>   <span class="mf">93.31</span>
<span class="mf">3.8</span>  <span class="mf">14.44</span>  <span class="mf">109.74</span>
<span class="mf">4.0</span>  <span class="mf">16.00</span>  <span class="mf">128.00</span>
<span class="mf">4.2</span>  <span class="mf">17.64</span>  <span class="mf">148.18</span>
<span class="mf">4.4</span>  <span class="mf">19.36</span>  <span class="mf">170.37</span>
<span class="mf">4.6</span>  <span class="mf">21.16</span>  <span class="mf">194.67</span>
<span class="mf">4.8</span>  <span class="mf">23.04</span>  <span class="mf">221.18</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="ejercicios-05-a">
<h2>Ejercicios 05 (a)<a class="headerlink" href="#ejercicios-05-a" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Escriba una función <code class="docutils literal notranslate"><span class="pre">crear_sen(A,</span> <span class="pre">w)</span></code> que acepte dos números reales
<span class="math notranslate nohighlight">\(A, w\)</span> como argumentos y devuelva la función <code class="docutils literal notranslate"><span class="pre">f(x)</span></code>.</p></li>
</ol>
<p>Al evaluar la función <code class="docutils literal notranslate"><span class="pre">f</span></code> en un dado valor <span class="math notranslate nohighlight">\(x\)</span> debe dar el
resultado: <span class="math notranslate nohighlight">\(f(x) = A \sin(w x)\)</span> tal que se pueda utilizar de la
siguiente manera:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">crear_sen</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># Debería imprimir el resultado de 3*sin(2 * pi/2) aprox. cero</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="funciones-que-toman-como-argumento-una-funcion">
<h2>Funciones que toman como argumento una función<a class="headerlink" href="#funciones-que-toman-como-argumento-una-funcion" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="k">def</span> <span class="nf">aplicar_fun</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">L</span><span class="p">):</span>
<span class="w">   </span><span class="sd">&quot;&quot;&quot;Aplica la función f a cada elemento del iterable L</span>
<span class="sd">   devuelve una lista con los resultados.</span>

<span class="sd">   IMPORTANTE: Notar que no se realiza ninguna comprobación de validez</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="k">return</span> <span class="p">[</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">L</span><span class="p">]</span>

<span class="n">En</span> <span class="n">lenguajes</span> <span class="n">funcionales</span> <span class="n">la</span> <span class="n">función</span> <span class="err">``</span><span class="n">aplicar_fun</span><span class="err">``</span> <span class="n">se</span> <span class="n">llama</span> <span class="o">*</span><span class="nb">map</span><span class="o">*</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="nn">m</span>
<span class="n">Lista</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">aplicar_fun</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">sin</span><span class="p">,</span> <span class="n">Lista</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">0.8414709848078965</span><span class="p">,</span>
 <span class="mf">0.9092974268256817</span><span class="p">,</span>
 <span class="mf">0.1411200080598672</span><span class="p">,</span>
 <span class="o">-</span><span class="mf">0.7568024953079282</span><span class="p">,</span>
 <span class="o">-</span><span class="mf">0.9589242746631385</span><span class="p">,</span>
 <span class="o">-</span><span class="mf">0.27941549819892586</span><span class="p">,</span>
 <span class="mf">0.6569865987187891</span><span class="p">,</span>
 <span class="mf">0.9893582466233818</span><span class="p">,</span>
 <span class="mf">0.4121184852417566</span><span class="p">]</span>
</pre></div>
</div>
<p>Notar que definimos la función <code class="docutils literal notranslate"><span class="pre">aplicar_fun()</span></code> que recibe una función
y una secuencia, pero no necesariamente una lista, por lo que podemos
aplicarla directamente a <code class="docutils literal notranslate"><span class="pre">range</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">aplicar_fun</span><span class="p">(</span><span class="n">crear_potencia</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">64</span><span class="p">]</span>
</pre></div>
</div>
<p>Además, debido a su definición, el primer argumento de la función
<code class="docutils literal notranslate"><span class="pre">aplicar_fun()</span></code> no está restringida a funciones numéricas pero al
usarla tenemos que asegurar que la función y el iterable (lista) que
pasamos como argumentos son compatibles.</p>
<p>Veamos otro ejemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;hola&#39;</span><span class="p">,</span> <span class="s1">&#39;chau&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">aplicar_fun</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">upper</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;HOLA&#39;</span><span class="p">,</span> <span class="s1">&#39;CHAU&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>donde <code class="docutils literal notranslate"><span class="pre">str.upper</span></code> es una función definida en <strong>Python</strong>, que convierte
a mayúsculas el string dado <code class="docutils literal notranslate"><span class="pre">str.upper('hola')</span> <span class="pre">=</span> <span class="pre">'HOLA'</span></code>.</p>
<section id="aplicacion-ordenamiento-de-listas">
<h3>Aplicacion: Ordenamiento de listas<a class="headerlink" href="#aplicacion-ordenamiento-de-listas" title="Link to this heading"></a></h3>
<p>Consideremos el problema del ordenamiento de una lista de strings. Como
vemos el resultado usual no es necesariamente el deseado</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Acá <code class="docutils literal notranslate"><span class="pre">sorted</span></code> es una función, similar al método <code class="docutils literal notranslate"><span class="pre">str.sort()</span></code> que
mencionamos anteriormente, con la diferencia que devuelve una nueva
lista con los elementos ordenados. Como los elementos son <em>strings</em>, la
comparación se hace respecto a su posición en el abecedario. En este
caso no es lo mismo mayúsculas o minúsculas.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s2</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">s1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">s2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;curso&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;curso&#39;</span><span class="p">,</span> <span class="s1">&#39;estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;python&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Posiblemente queremos el orden que obtuvimos en segundo lugar pero con
los elementos dados originalmente (con sus mayúsculas y minúsculas
originales). Para poder modificar el modo en que se ordenan los
elementos, la función <code class="docutils literal notranslate"><span class="pre">sorted</span></code> (y el método <code class="docutils literal notranslate"><span class="pre">sort</span></code>) tienen el
argumento opcional <code class="docutils literal notranslate"><span class="pre">key</span></code> que debe ser una función. Entonces <code class="docutils literal notranslate"><span class="pre">sort()</span></code>
y <code class="docutils literal notranslate"><span class="pre">sorted()</span></code> toman una función como argumento.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Como vemos, los strings están ordenados adecuadamente. Si queremos
ordenarlos por longitud de la palabra</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Supongamos que queremos ordenarla alfabéticamente por la segunda letra</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">segunda</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">segunda</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="funciones-anonimas">
<h2>Funciones anónimas<a class="headerlink" href="#funciones-anonimas" title="Link to this heading"></a></h2>
<p>En ocasiones como esta suele ser más rápido (o conveniente) definir la
función, que se va a utilizar una única vez, sin darle un nombre. Estas
se llaman funciones <em>lambda</em>, y el ejemplo anterior se escribiría</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Si queremos ordenarla alfabéticamente empezando desde la última letra:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="n">a</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Este es un ejemplo de uso de las funciones anónimas <code class="docutils literal notranslate"><span class="pre">lambda</span></code>. La forma
general de las funciones <code class="docutils literal notranslate"><span class="pre">lambda</span></code> es:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">:</span> <span class="n">expresión_de</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>por ejemplo, para calcular <span class="math notranslate nohighlight">\((n+1) x^n\)</span>, hicimos:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">:</span> <span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="n">n</span>
</pre></div>
</div>
</section>
<section id="ejemplo-integracion-numerica">
<h2>Ejemplo: Integración numérica<a class="headerlink" href="#ejemplo-integracion-numerica" title="Link to this heading"></a></h2>
<p>Veamos en más detalle el caso de funciones que reciben como argumento
otra función, estudiando un caso usual: una función de integración debe
recibir como argumento al menos una función a integrar y los límites de
integración:</p>
<p>En este ejemplo programamos la fórmula de integración de Simpson para
obtener la integral de una función <code class="docutils literal notranslate"><span class="pre">f(x)</span></code> provista por el usuario, en
un dado intervalo:</p>
<div class="math notranslate nohighlight">
\[\int _{a}^{b}f(x)\,dx\approx \frac{h}{3} \bigg[ f(x_{0}) + 2 \sum_{j=1}^{n/2} f(x_{2j}) + 4 \sum_{j=1}^{n/2} f(x_{2j-1}) - f(x_{n})\bigg]\]</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">integrate_simps</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;Calcula numéricamente la integral de la función en el intervalo dado</span>
<span class="sd">  utilizando la regla de Simpson</span>

<span class="sd">  Keyword Arguments:</span>
<span class="sd">  f -- Función a integrar</span>
<span class="sd">  a -- Límite inferior</span>
<span class="sd">  b -- Límite superior</span>
<span class="sd">  N -- El intervalo se separa en 2*N intervalos</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">N</span><span class="p">)</span>
  <span class="n">I</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">x2j</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">j</span> <span class="o">*</span> <span class="n">h</span>
    <span class="n">x2jm1</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">h</span>
    <span class="n">I</span> <span class="o">+=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">f</span><span class="p">(</span><span class="n">x2j</span><span class="p">)</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">f</span><span class="p">(</span><span class="n">x2jm1</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">I</span> <span class="o">*</span> <span class="n">h</span> <span class="o">/</span> <span class="mi">3</span>
</pre></div>
</div>
<p>¿Cómo usamos la función de integración?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">potencia2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>

<span class="n">integrate_simps</span><span class="p">(</span><span class="n">potencia2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">9.0</span>
</pre></div>
</div>
<p>Acá definimos una función, y se la pasamos como argumento a la función
de integración.</p>
<section id="uso-de-funciones-anonimas">
<h3>Uso de funciones anónimas<a class="headerlink" href="#uso-de-funciones-anonimas" title="Link to this heading"></a></h3>
<p>Veamos como sería el uso de funciones anónimas en este contexto</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">integrate_simps</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">9.0</span>
</pre></div>
</div>
<p>La notación es un poco más corta, que es cómodo pero no muy relevante
para un caso. Si queremos, por ejemplo, aplicar el integrador a una
familia de funciones la notación se simplifica notablemente:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Integrales:&#39;</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
  <span class="n">I</span> <span class="o">=</span> <span class="n">integrate_simps</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="n">n</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;I ( </span><span class="si">{</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1"> x^</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s1"> ) = </span><span class="si">{</span><span class="n">I</span><span class="si">:</span><span class="s1">.5f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Integrales</span><span class="p">:</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">1</span> <span class="n">x</span><span class="o">^</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">3.00000</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">2</span> <span class="n">x</span><span class="o">^</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">9.00000</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">3</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">27.00000</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">4</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">81.00000</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">5</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">243.00101</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">6</span> <span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">729.00911</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="ejercicios-05-b">
<h2>Ejercicios 05 (b)<a class="headerlink" href="#ejercicios-05-b" title="Link to this heading"></a></h2>
<ol class="arabic" start="2">
<li><p>Escriba una serie de funciones que permitan trabajar con polinomios.
Vamos a representar a un polinomio como una lista de números reales,
donde cada elemento corresponde a un coeficiente que acompaña una
potencia. En cada caso elija los argumentos que considere necesario.</p>
<ul class="simple">
<li><p>Una función que devuelva el orden del polinomio (un número entero)</p></li>
<li><p>Una función que sume dos polinomios y devuelva un polinomio
(objeto del mismo tipo)</p></li>
<li><p>Una función que multiplique dos polinomios y devuelva el resultado
en otro polinomio</p></li>
<li><p>Una función devuelva la derivada del polinomio (otro polinomio).</p></li>
<li><p>Una función que acepte el polinomio y devuelva la función
correspondiente.</p></li>
</ul>
</li>
<li><p>Escriba una función <code class="docutils literal notranslate"><span class="pre">direccion_media(ang1,</span> <span class="pre">ang2,</span> <span class="pre">...)</span></code> cuyos
argumentos son direcciones en el plano, expresadas por los ángulos en
grados a partir de un cierto eje, y calcule la dirección promedio,
expresada en ángulos. Pruebe su función con las listas:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a1</span> <span class="o">=</span> <span class="n">direccion_media</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">370</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">direccion_media</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">180</span><span class="p">)</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">direccion_media</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">540</span><span class="p">,</span> <span class="mi">280</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Las funciones de Bessel de orden <span class="math notranslate nohighlight">\(n\)</span> cumplen las relaciones de
recurrencia</p>
<div class="math notranslate nohighlight">
\[J_{n -1}(x)- \frac{2n }{x}\, J_{n }(x) + J_{n +1}(x) = 0\]</div>
<div class="math notranslate nohighlight">
\[J^{2}_{0}(x) + \sum_{n=1}^{\infty} 2 J^{2}_{n}(x) = 1\]</div>
<p>Para calcular la función de Bessel de orden <span class="math notranslate nohighlight">\(N\)</span>, se empieza con
un valor de <span class="math notranslate nohighlight">\(M \gg N\)</span>, y utilizando los valores iniciales
<span class="math notranslate nohighlight">\(J_{M}=1\)</span>, <span class="math notranslate nohighlight">\(J_{M+1}=0\)</span> se utiliza la primera relación
para calcular todos los valores de <span class="math notranslate nohighlight">\(n &lt; M\)</span>. Luego, utilizando
la segunda relación se normalizan todos los valores.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Estas relaciones son válidas si <span class="math notranslate nohighlight">\(M \gg x\)</span> (use algún
valor estimado, como por ejemplo <span class="math notranslate nohighlight">\(M=N+20\)</span>).</p>
</div>
<p>Utilice estas relaciones para calcular <span class="math notranslate nohighlight">\(J_{N}(x)\)</span> para
<span class="math notranslate nohighlight">\(N=3,4,7\)</span> y <span class="math notranslate nohighlight">\(x=2.5, 5.7, 10\)</span>. Para referencia se dan los
valores esperados</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align}
J_3( 2.5) =  0.21660\\
J_4( 2.5) =  0.07378\\
J_7( 2.5) =  0.00078\\
J_3( 5.7) =  0.20228\\
J_4( 5.7) =  0.38659\\
J_7( 5.7) =  0.10270\\
J_3(10.0) =  0.05838\\
J_4(10.0) = -0.21960\\
J_7(10.0) =  0.21671\\
\end{align}\end{split}\]</div>
</li>
<li><p>Dada una lista de números, vamos a calcular valores relacionados a su
estadística.</p>
<ul>
<li><p>Realizar una función <code class="docutils literal notranslate"><span class="pre">calc_media(x,</span> <span class="pre">que=&quot;aritmetica&quot;)</span></code> que
calcule los valores de la media aritmética, la media geométrica o
la media armónica dependiendo del valor del argumento <code class="docutils literal notranslate"><span class="pre">que</span></code>. Las
medias están dadas por:</p>
<div class="math notranslate nohighlight">
\[A(x_1, \ldots, x_n) = \bar{x} = \frac{x_1 + \cdots + x_n}{n}\]</div>
<div class="math notranslate nohighlight">
\[G(x_1, \ldots, x_n) = \sqrt[n]{x_1 \cdots x_n}\]</div>
<div class="math notranslate nohighlight">
\[H(x_1, \ldots, x_n) = \frac{n}{\frac{1}{x_1} + \cdots + \frac{1}{x_n}}\]</div>
</li>
<li><p>Realizar una función que calcule la mediana de una lista de
números (el argumento en este caso es del tipo <code class="docutils literal notranslate"><span class="pre">list</span></code>). La
mediana se define como el valor para el cual la mitad de los
valores de la lista es menor que ella. Si el número de elementos
es par, se toma el promedio entre los dos adyacentes.</p></li>
</ul>
<p>Realizar los cálculos para las listas de números:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">L1</span> <span class="o">=</span> <span class="p">[</span><span class="mf">6.41</span><span class="p">,</span> <span class="mf">1.28</span><span class="p">,</span> <span class="mf">11.54</span><span class="p">,</span> <span class="mf">5.13</span><span class="p">,</span> <span class="mf">8.97</span><span class="p">,</span> <span class="mf">3.84</span><span class="p">,</span> <span class="mf">10.26</span><span class="p">,</span> <span class="mf">14.1</span><span class="p">,</span> <span class="mf">12.82</span><span class="p">,</span> <span class="mf">16.67</span><span class="p">,</span> <span class="mf">2.56</span><span class="p">,</span> <span class="mf">17.95</span><span class="p">,</span> <span class="mf">7.69</span><span class="p">,</span> <span class="mf">15.39</span><span class="p">]</span>
<span class="n">L2</span> <span class="o">=</span> <span class="p">[</span><span class="mf">4.79</span><span class="p">,</span> <span class="mf">1.59</span><span class="p">,</span> <span class="mf">2.13</span><span class="p">,</span> <span class="mf">4.26</span><span class="p">,</span> <span class="mf">3.72</span><span class="p">,</span> <span class="mf">1.06</span><span class="p">,</span> <span class="mf">6.92</span><span class="p">,</span> <span class="mf">3.19</span><span class="p">,</span> <span class="mf">5.32</span><span class="p">,</span> <span class="mf">2.66</span><span class="p">,</span> <span class="mf">5.85</span><span class="p">,</span> <span class="mf">6.39</span><span class="p">,</span> <span class="mf">0.53</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>La <em>moda</em> se define como el valor que ocurre más frecuentemente en
una colección. Note que la moda puede no ser única. En ese caso
debe obtener todos los valores. Escriba una función que retorne la
moda de una lista de números. Utilícela para calcular la moda de
la siguiente lista de números enteros:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ol>
<hr class="docutils" />
<p>.</p>
</section>
<section id="funciones-y-decoradores">
<h2>Funciones y decoradores<a class="headerlink" href="#funciones-y-decoradores" title="Link to this heading"></a></h2>
<p>Hemos visto que en Python todo es un objeto, con lo cual, incluso las
funciones, son objetos. Como tales tienen métodos y atributos:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lio_messi</span> <span class="o">=</span> <span class="s2">&quot;Lio Messi&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">lio_messi</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;str&#39;&gt;
</pre></div>
</div>
<p>La variable <code class="docutils literal notranslate"><span class="pre">lio_messi</span></code> es un string, y como tal, pertenece a la clase
<code class="docutils literal notranslate"><span class="pre">str</span></code>, que tiene sus propios atributos y métodos:</p>
<p>Veamos qué pasa con las funciones:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">saluda_a</span><span class="p">(</span><span class="n">alguien</span><span class="p">):</span>
    <span class="n">saludo</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Hola </span><span class="si">{</span><span class="n">alguien</span><span class="si">}</span><span class="s2">!&quot;</span>
    <span class="k">return</span> <span class="n">saludo</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">saluda_a</span><span class="p">(</span><span class="n">lio_messi</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Hola Lio Messi!
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">saluda_a</span><span class="p">))</span>
</pre></div>
</div>
<pre class="literal-block"> &lt;class 'function'&gt;


Un atributo interesante de las funciones es <code class="docutils literal notranslate"><span class="pre">__name__</span></code> por razones
que veremos en breve:</pre>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">saluda_a</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">saluda_a</span>
</pre></div>
</div>
<p>Es decir, <code class="docutils literal notranslate"><span class="pre">__name__</span></code> es el nombre de la función, que está guardado
dentro del objeto que representa dicha función. &gt; La capacidad del
lenguaje de responderse preguntas sobre las propias entidades que
componen el lenguaje se llama <em>introspección</em>.</p>
<p>En la clase anterior vimos dos características importantes de las
funciones en Python. La primera de ellas es que las funciones pueden
retornar (esto es, crear) otras funciones:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">genera_recta</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="s2">&quot;Genera la función recta y = a x + b&quot;</span>
    <span class="k">def</span> <span class="nf">recta</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="s2">&quot;Evalúa la función recta en x&quot;</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">b</span>
        <span class="k">return</span> <span class="n">y</span>
    <span class="k">return</span> <span class="n">recta</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">genera_recta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>       <span class="c1"># f(x) = 2 * x + 3</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;f(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">) = </span><span class="si">{</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>   <span class="c1"># f(2) = 2 * 2 + 3</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;f(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">) = </span><span class="si">{</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>   <span class="c1"># f(0) = 2 * 0 + 3</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">3</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;function&#39;&gt;
</pre></div>
</div>
<p>La segunda de ellas es que es posible pasar como argumento una función a
otra:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">genera_recta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># g(x) = x - 1</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;y = </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="mi">7</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">g</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;function&#39;&gt;
</pre></div>
</div>
<section id="funciones-que-aceptan-y-devuelven-funciones-decoradores">
<h3>Funciones que aceptan y devuelven funciones (Decoradores)<a class="headerlink" href="#funciones-que-aceptan-y-devuelven-funciones-decoradores" title="Link to this heading"></a></h3>
<p>Vamos a trabajar ahora con los decoradores. Los decoradores no son otra
cosa que funciones, pero que, por sus características, adquieren ese
nombre y una forma particular de llamarlos que reduce convenientemente
la sintaxis al programar. Empecemos por definir una función que devuelve
otra función, como vimos arriba, de la siguiente forma:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mi_decorador</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Por llamar a la función </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">func</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Listo, ya llamé a la función </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>
</pre></div>
</div>
<p>Definamos ahora un saludo genérico:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">saluda</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Holaa!!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">saluda</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Holaa!!
</pre></div>
</div>
<p>Nada nuevo hasta ahora, pero empecemos a combinar las funciones:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">saluda_w</span> <span class="o">=</span> <span class="n">mi_decorador</span><span class="p">(</span><span class="n">saluda</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">saluda_w</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Por llamar a la función saluda
Holaa!!
Listo, ya llamé a la función saluda
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">saluda_w</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;function&#39;&gt;
</pre></div>
</div>
<p>Tenemos ahora una función <code class="docutils literal notranslate"><span class="pre">saluda</span></code> y su versión <em>decorada</em>
<code class="docutils literal notranslate"><span class="pre">saluda_w</span></code>, que simplemente llama a la función <code class="docutils literal notranslate"><span class="pre">saluda</span></code>, pero además
imprime mensajes antes y después del llamado a la función. Esto es algo
que uno va a querer hacer, por ejemplo para calcular el tiempo de
ejecución de una función, o para imprimir mensajes de registro
(<em>logging</em>) o debug, u otras tantas cosas más. Por eso Python introduce
una notación especial para este tipo de funciones <code class="docutils literal notranslate"><span class="pre">mi_decorador</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">saluda</span> <span class="o">=</span> <span class="n">mi_decorador</span><span class="p">(</span><span class="n">saluda</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="nd">@mi_decorador</span>
 <span class="k">def</span> <span class="nf">saluda_en_ingles</span><span class="p">():</span>
     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello!!&quot;</span><span class="p">)</span>

<span class="n">Notar</span> <span class="n">que</span> <span class="n">el</span> <span class="n">decorador</span> <span class="n">siempre</span> <span class="n">empieza</span> <span class="n">con</span> <span class="n">el</span> <span class="n">símbolo</span> <span class="err">``</span><span class="o">@</span><span class="err">``</span> <span class="n">y</span> <span class="n">se</span>
<span class="n">encuentra</span> <span class="n">en</span> <span class="n">la</span> <span class="n">línea</span> <span class="n">inmediatamente</span> <span class="n">anterior</span> <span class="n">a</span> <span class="n">la</span> <span class="n">definición</span> <span class="n">de</span> <span class="n">la</span>
<span class="n">función</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">saluda_en_ingles</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Por llamar a la función saluda_en_ingles
Hello!!
Listo, ya llamé a la función saluda_en_ingles
</pre></div>
</div>
<p>Qué pasa si queremos aplicar el decorador a una función que recibe
argumentos como <code class="docutils literal notranslate"><span class="pre">saluda_a</span></code>?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@mi_decorador</span>
<span class="k">def</span> <span class="nf">saluda_a</span><span class="p">(</span><span class="n">alguien</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hola </span><span class="si">{</span><span class="n">alguien</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">saluda_a</span><span class="p">(</span><span class="s2">&quot;Lio Messi&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">TypeError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">21</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="n">saluda_a</span><span class="p">(</span><span class="s2">&quot;Lio Messi&quot;</span><span class="p">)</span>


<span class="ne">TypeError</span><span class="p">:</span> <span class="n">mi_decorador</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">wrapper</span><span class="p">()</span> <span class="n">takes</span> <span class="mi">0</span> <span class="n">positional</span> <span class="n">arguments</span> <span class="n">but</span> <span class="mi">1</span> <span class="n">was</span> <span class="n">given</span>
</pre></div>
</div>
<p>Notemos que como está definido el decorador, recibe una función sin
argumentos:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mi_decorador</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Por llamar a la función </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">func</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Listo, ya llamé a la función </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>
</pre></div>
</div>
<p>En este último caso, al aplicar <code class="docutils literal notranslate"><span class="pre">&#64;mi_decorador</span></code> a
<code class="docutils literal notranslate"><span class="pre">saluda_a(alguien)</span></code>, estamos pasando a la función <code class="docutils literal notranslate"><span class="pre">mi_decorador</span></code> una
función <code class="docutils literal notranslate"><span class="pre">func</span></code> que dentro de <code class="docutils literal notranslate"><span class="pre">mi_decorador</span></code> se llama como
<code class="docutils literal notranslate"><span class="pre">func()</span></code>, es decir, no tiene argumentos. Para resolver este problema,
tenemos que indicar explícitamente que la función que vamos a llamar
dentro del decorador puede tener argumentos:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mi_nuevo_decorador</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Por llamar a la función </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Listo, ya llamé a la función </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>
</pre></div>
</div>
<p>Hasta ahora la función <code class="docutils literal notranslate"><span class="pre">func</span></code> que envuelve el decorador no devuelve
ningún valor, sólo imprime un mensaje en pantalla. Cómo hacemos para
usar un decorador con una función que devuelve un valor?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">proto_debug_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Por llamar a la función </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Listo, ya llamé a la función </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">resultado</span>
    <span class="k">return</span> <span class="n">wrapper</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@proto_debug_decorator</span>
<span class="k">def</span> <span class="nf">mi_calculo_complicado</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">v</span> <span class="o">=</span> <span class="n">mi_calculo_complicado</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Por</span> <span class="n">llamar</span> <span class="n">a</span> <span class="n">la</span> <span class="n">función</span> <span class="n">mi_calculo_complicado</span>
<span class="n">Listo</span><span class="p">,</span> <span class="n">ya</span> <span class="n">llamé</span> <span class="n">a</span> <span class="n">la</span> <span class="n">función</span> <span class="n">mi_calculo_complicado</span>
<span class="mi">14</span>
</pre></div>
</div>
</section>
<section id="decoradores-un-ejemplo-mas-util">
<h3>Decoradores, un ejemplo más útil<a class="headerlink" href="#decoradores-un-ejemplo-mas-util" title="Link to this heading"></a></h3>
<p>Recordemos que al llamar una función, <code class="docutils literal notranslate"><span class="pre">*args</span></code> representa a la tupla de
argumentos mientras que <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> es el diccionario de argumentos
opcionales. Escribamos un par de funciones útiles para transformar estos
tipos en string, de modo que se puedan imprimir, por ejemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">args_as_str</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">args_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">])</span>
    <span class="n">kwargs_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">args_str</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">kwargs_str</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">args_as_str</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">hola</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">a</span>  <span class="o">=</span>  <span class="mi">5</span> <span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;1, 3, hola=Hello, a=5&#39;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">debug_me</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">args_as_str</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Listo, ya llamé a la función </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">resultado</span>
    <span class="k">return</span> <span class="n">wrapper</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@debug_me</span>
<span class="k">def</span> <span class="nf">mi_calculo_recontracomplicado</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">v</span> <span class="o">=</span>  <span class="n">mi_calculo_recontracomplicado</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mi_calculo_recontracomplicado</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">Listo</span><span class="p">,</span> <span class="n">ya</span> <span class="n">llamé</span> <span class="n">a</span> <span class="n">la</span> <span class="n">función</span> <span class="n">mi_calculo_recontracomplicado</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">14</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="ejercicios-05-c">
<h2>Ejercicios 05 (c)<a class="headerlink" href="#ejercicios-05-c" title="Link to this heading"></a></h2>
<ol class="arabic simple" start="6">
<li><p>El módulo time calcula el tiempo en segundos desde el comienzo de la
era de la computación (?), que para los fines prácticos, da inicio el
1 de enero de 1970 ;-D. Veamos unos ejemplos de su uso:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="n">ahora</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">ahora</span><span class="p">)</span>
<span class="c1"># duerme 5 segundos</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># zzzz.....</span>

<span class="n">ahora</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">ahora</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1740427615.6264267</span>
<span class="mf">1740427620.6271527</span>
</pre></div>
</div>
<p>Utilizando las funciones anteriores, escriba el decorador <code class="docutils literal notranslate"><span class="pre">&#64;time_me</span></code>
que calcula e imprime el tiempo que tarda en ejecutarse una función.
<strong>No empiece desde cero!!</strong> Use como plantilla para empezar el decorador
<code class="docutils literal notranslate"><span class="pre">&#64;debug_me</span></code> y modifíquelo adecuadamente.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># descomente el decorador una vez que lo tenga programado</span>
<span class="c1"># @time_me</span>
<span class="k">def</span> <span class="nf">mi_calculo_recontralargo</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">l</span><span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mi_calculo_recontralargo</span><span class="p">(</span><span class="mi">20000000</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">199999990000000</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="programacion-funcional-con-python">
<h2>Programación funcional con Python<a class="headerlink" href="#programacion-funcional-con-python" title="Link to this heading"></a></h2>
<p>La programación funcional es un paradigma de programación, de la misma
manera que otros paradigmas, como la programación orientada a objetos, o
la programación estructurada.</p>
<p>Existen lenguajes de programación que son directamente funcionales, esto
es, implementan las reglas de la programación funcional directamente
(por ejemplo, Lisp, Haskell, F#, etc.). Desde un punto de vista
histórico, la programación funcional tiene su origen en la visión de
Alonzo Church del problema de la decisión (<em>Entscheidungsproblem</em>), y es
complementaria a la más conocida, propuesta por Alan Turing.</p>
<p>Python es un lenguaje orientado a objetos (todo elemento del lenguaje es
un objeto), de modo tal que no es posible hablar de un paradigma
funcional en Python, sino mas bien de un <em>estilo</em> de programación
funcional.</p>
<p>Un trabajo interesante es el siguiente: ’Why Functional Programming
Matters: <a class="reference external" href="http://www.cse.chalmers.se/~rjmh/Papers/whyfp.pdf">http://www.cse.chalmers.se/~rjmh/Papers/whyfp.pdf</a>”.</p>
<section id="los-errores-al-programar">
<h3>Los errores al programar<a class="headerlink" href="#los-errores-al-programar" title="Link to this heading"></a></h3>
<p>En el continuo devenir de la programación, uno se encuentra,
principalmente, resolviendo errores. Un resumen de los errores posibles
en un código se pueden encontrar en la expresión</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">i+1</span></code></p>
</div></blockquote>
<p>En esta expresión podemos encontrar tres tipos de errores:</p>
<ul class="simple">
<li><p><em>Error de lectura</em> : el valor de <code class="docutils literal notranslate"><span class="pre">i</span></code> en el lado derecho no es el
que efectivamente uno desearía, es decir, el código está leyendo un
valor incorrecto.</p></li>
<li><p><em>Error de escritura</em> : el valor de <code class="docutils literal notranslate"><span class="pre">i</span></code> en el lado izquierdo no es
el que efectivamente uno desearía, es decir, estamos guardando la
expresión en una variable incorrecta.</p></li>
<li><p><em>Error de cómputo</em> : que se produce, por ejemplo, porque no queremos
sumar 1 sino 2, o queremos restar el valor de i.</p></li>
</ul>
<p>Existe un cuarto tipo de error que aparece y tiene que ver con un <em>error
de flujo</em>, en el cual el código se ejecuta en una rama que no es la
deseada, debido a que una condición lógica no se cumple tal como se
esperaba. O por ejemplo, el orden en que se ejecutan las sentencias no
es el adecuado:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Función que calcula (x+1)(x+2)</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Función que calcula (x+1)(x+2) ?? Mmmm.....</span>
<span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">20</span>
<span class="mi">16</span>
</pre></div>
</div>
</section>
<section id="los-errores-en-notebooks">
<h3>Los errores en notebooks<a class="headerlink" href="#los-errores-en-notebooks" title="Link to this heading"></a></h3>
<p>Además de las complejidades propias de la programación, que están
asociadas al <em>dominio</em> donde se encuentra el problema que uno quiere
resolver, y a las dificultades que eso implica; los <em>notebooks</em>
introducen también una dificultad adicional: uno puede redefinir los
datos en celdas posteriores, pero puede volver ‘atrás’ en el código y
recalcular otra celda. Veamos un
<a class="reference external" href="https://verve.com/blog/jupyter-notebooks/">ejemplo</a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">prom</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">/</span><span class="n">n</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prom</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">2.5</span>
</pre></div>
</div>
<figure class="align-default" id="id1">
<img alt="Más código" src="https://assets-global.website-files.com/5f3c19f18169b62a0d0bf387/60d33beacf4ba7263a23cd79_qh6ImC4NPdyPbvn-7ns8FYsgOskDPDWLnX31mLCOgSwpX_SQgmo8krqdg4e6XAnSbqRAtZMYqlf7UTvlHiXgt5YtMwbt9IRY1fAbOjyq5hARui-xEQUgI48EOjhJGuIsSFDg90L6.jpeg" />
<figcaption>
<p><span class="caption-text">Más código</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;Some data&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">9</span>
</pre></div>
</div>
</section>
<section id="mutabilidad">
<h3>Mutabilidad<a class="headerlink" href="#mutabilidad" title="Link to this heading"></a></h3>
<p>Los problemas que vemos arriba se deben a la <em>mutabilidad</em>: las
<em>variables</em> pueden cambiar (esto es, ser reescritas) a lo largo del
código. Ahora bien, pareciera que la mutabilidad es intrínseca a la
computación, al fin y al cabo, en el hardware hay una cantidad limitada
de memoria y de registros que son continuamente reescritos para que
nuestro código corra. Sin embargo, los lenguajes de programación de alto
nivel que usamos nos alejan (afortunadamente) del requerimiento de
mantener el estado de la memoria y los registros explícitamente en el
código (y en el algoritmo en nuestra cabeza).</p>
<p>La pregunta que cabe entonces es ¿cómo hacer un código que prevenga la
mutabilidad, pero que a la vez me permita transformar los datos para
resolver mi problema? La respuesta viene de la mano de un ente muy
conocido en mátemáticas: <em>las funciones</em></p>
</section>
<section id="funciones">
<h3>Funciones<a class="headerlink" href="#funciones" title="Link to this heading"></a></h3>
<p>Una función desde el punto de vista matemático es una relación que a
cada elemento de un conjunto le asocia exactamente un elemento de otro
conjunto. Estos conjuntos pueden ser números, vectores, matrices en el
mundo matemático,</p>
<h3><center><p>y = f(x)</p>
</center></h3><p>o, en un mundo más físico, peras, manzanas, nombres, apellidos, <a class="reference external" href="https://commons.wikimedia.org/w/index.php?curid=20802095">objetos
varios</a>:</p>
<figure class="align-default" id="id2">
<img alt="una funcion" src="_images/Function_color_example_3.png" />
<figcaption>
<p><span class="caption-text">una funcion</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Estas funciones tienen dos características fundamentales para usar en
programación: - Permiten “transformar” un valor en otro - El valor
original <strong>no</strong> se modifica</p>
<p>Es decir que el uso de funciones, al estilo matemático, en un código
resuelven el problema de la mutabilidad, pero a la vez me permiten
“transformar”, es decir, crear nuevos valores a partir del valor
original.</p>
<section id="funciones-puras">
<h4>Funciones puras<a class="headerlink" href="#funciones-puras" title="Link to this heading"></a></h4>
<p>El análogo computacional de las funciones matemáticas se llaman
<em>funciones puras</em>. Una función se dice pura cuando: - Siempre retorna el
mismo valor de salida para el mismo valor de entrada - No tiene efectos
colaterales (<em>side effects</em>)</p>
<figure class="align-default" id="id3">
<img alt="una funcion" src="_images/afunction.png" />
<figcaption>
<p><span class="caption-text">una funcion</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="funciones-de-primer-orden-o-primera-clase">
<h4>Funciones de primer orden o primera clase<a class="headerlink" href="#funciones-de-primer-orden-o-primera-clase" title="Link to this heading"></a></h4>
<p>Un lenguaje se dice que tiene funciones de primera clase cuando son
tratadas exactamente igual que otros valores o variables.</p>
</section>
<section id="funciones-de-orden-superior">
<h4>Funciones de orden superior<a class="headerlink" href="#funciones-de-orden-superior" title="Link to this heading"></a></h4>
<p>Un lenguaje que permite pasar funciones como argumentos se dice que
acepta funciones de orden superior.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">b</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">4</span>
<span class="mi">5</span>
<span class="mi">6</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">h</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">h</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">20</span>
</pre></div>
</div>
<p>Si se tiene funciones puras, es posible componerlas</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compose</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">):</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">next2</span> <span class="o">=</span> <span class="n">compose</span><span class="p">(</span><span class="nb">next</span><span class="p">,</span><span class="nb">next</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">next2</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">6</span>
</pre></div>
</div>
</section>
</section>
<section id="inmutabilidad">
<h3>Inmutabilidad<a class="headerlink" href="#inmutabilidad" title="Link to this heading"></a></h3>
<p>Usando funciones puras se garantiza la inmutabilidad de los valores
hacia adentro de la función. Pero, ¿qué sucede afuera? Python, al no ser
un lenguaje funcional <em>per se</em>, no tiene la capacidad de establecer la
inmutabilidad de cualquier valor, excepto para los casos de strings y
tuplas, además, obviamente, de las expresiones literales.</p>
<p><strong>Queda entonces en el programador la responsabilidad de no mutar los
datos…</strong></p>
<p><strong>… o usar anotaciones de tipos</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">cube</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">x</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">cube</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">8</span>
</pre></div>
</div>
<p>Nótese que Python NO chequea los tipos de datos, no tiene manera en
forma nativa de hacerlo. Por eso puedo ejecutar la función <code class="docutils literal notranslate"><span class="pre">cube</span></code> con
floats, por ejemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">cube</span><span class="p">(</span><span class="mf">3.0</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">27.0</span>
</pre></div>
</div>
</section>
<section id="no-mas-loops">
<h3>No más loops<a class="headerlink" href="#no-mas-loops" title="Link to this heading"></a></h3>
<p>Si las funciones deben ser puras, y las ‘variables’ dejan de ser
variables y pasan a ser valores, entonces no puede haber loops en mi
código. Un loop necesita invariablemente un contador (<code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">i+1</span></code>) que
necesariamente es una variable mutable. Así que así nomás, de un plumazo
no existen más loops.</p>
<p>¿Entonces? Entonces, todos los loops se reemplazan por llamados a
funciones recursivas, o se utilizan funciones de orden superior:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filter</span>

<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">es_par</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">pares</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="n">es_par</span><span class="p">,</span><span class="n">l</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pares</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filter usando list comprehension</span>
<span class="nb">list</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span> <span class="k">if</span> <span class="n">es_par</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Map</span>
<span class="n">siguientes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">next</span><span class="p">,</span><span class="n">l</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">siguientes</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
</pre></div>
</div>
<p>El módulo <code class="docutils literal notranslate"><span class="pre">functools</span></code> provee la función <code class="docutils literal notranslate"><span class="pre">reduce</span></code>, que complementa a
<code class="docutils literal notranslate"><span class="pre">map</span></code> y <code class="docutils literal notranslate"><span class="pre">filter</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Reduce</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">operator</span>

<span class="c1"># Suma usando el predicado desde el módulo `operator`</span>
<span class="n">suma</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">add</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">suma</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">21</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">reduce</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Help</span> <span class="n">on</span> <span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">function</span> <span class="n">reduce</span> <span class="ow">in</span> <span class="n">module</span> <span class="n">_functools</span><span class="p">:</span>

<span class="n">reduce</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
    <span class="n">reduce</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">iterable</span><span class="p">[,</span> <span class="n">initial</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">value</span>

    <span class="n">Apply</span> <span class="n">a</span> <span class="n">function</span> <span class="n">of</span> <span class="n">two</span> <span class="n">arguments</span> <span class="n">cumulatively</span> <span class="n">to</span> <span class="n">the</span> <span class="n">items</span> <span class="n">of</span> <span class="n">an</span> <span class="n">iterable</span><span class="p">,</span> <span class="kn">from</span> <span class="nn">left</span> <span class="n">to</span> <span class="n">right</span><span class="o">.</span>

    <span class="n">This</span> <span class="n">effectively</span> <span class="n">reduces</span> <span class="n">the</span> <span class="n">iterable</span> <span class="n">to</span> <span class="n">a</span> <span class="n">single</span> <span class="n">value</span><span class="o">.</span>  <span class="n">If</span> <span class="n">initial</span> <span class="ow">is</span> <span class="n">present</span><span class="p">,</span>
    <span class="n">it</span> <span class="ow">is</span> <span class="n">placed</span> <span class="n">before</span> <span class="n">the</span> <span class="n">items</span> <span class="n">of</span> <span class="n">the</span> <span class="n">iterable</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">calculation</span><span class="p">,</span> <span class="ow">and</span> <span class="n">serves</span> <span class="k">as</span>
    <span class="n">a</span> <span class="n">default</span> <span class="n">when</span> <span class="n">the</span> <span class="n">iterable</span> <span class="ow">is</span> <span class="n">empty</span><span class="o">.</span>

    <span class="n">For</span> <span class="n">example</span><span class="p">,</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
    <span class="n">calculates</span> <span class="p">((((</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Suma usando el predicado como lambda</span>
<span class="n">otra_suma</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">otra_suma</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">21</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Suma definiendo la propia función suma</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>

<span class="n">y_otra_suma</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="n">add</span><span class="p">,</span><span class="n">l</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_otra_suma</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">21</span>
</pre></div>
</div>
<p>La suma de los cuadrados de una lista:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">suma_cuadrados</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="n">square</span><span class="p">,</span><span class="n">l</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">suma_cuadrados</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">91</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="ejercicios-05-d">
<h2>Ejercicios 05 (d)<a class="headerlink" href="#ejercicios-05-d" title="Link to this heading"></a></h2>
<ol class="arabic" start="7">
<li><p>Construya una función <code class="docutils literal notranslate"><span class="pre">partition(lst,predicate)</span></code> que dada una lista
<code class="docutils literal notranslate"><span class="pre">lst</span></code> y una función <code class="docutils literal notranslate"><span class="pre">predicate</span></code>, separe la lista <code class="docutils literal notranslate"><span class="pre">lst</span></code> en dos:
una lista que contiene los valores para los cuales la función
<code class="docutils literal notranslate"><span class="pre">predicate</span></code> devuelve <code class="docutils literal notranslate"><span class="pre">True</span></code>, y otra lista que contiene los
valores para los que <code class="docutils literal notranslate"><span class="pre">predicate</span></code> devuelve <code class="docutils literal notranslate"><span class="pre">False</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">is_even</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>

<span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="n">evens</span><span class="p">,</span> <span class="n">odds</span> <span class="o">=</span> <span class="n">divide_list</span><span class="p">(</span><span class="n">numbers</span><span class="p">,</span> <span class="n">is_even</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">evens</span><span class="p">)</span> <span class="c1"># Output: [2, 4, 6, 8, 10]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">odds</span><span class="p">)</span>  <span class="c1"># Output: [1, 3, 5, 7, 9]</span>
</pre></div>
</div>
</li>
<li><p>Dado la cadena de caracteres</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s1</span><span class="o">=</span><span class="s1">&#39;En un lugar de la Mancha de cuyo nombre no quiero acordarme&#39;</span>
</pre></div>
</div>
<p>Utilice <code class="docutils literal notranslate"><span class="pre">reduce</span></code>, <code class="docutils literal notranslate"><span class="pre">map</span></code> y/o <code class="docutils literal notranslate"><span class="pre">filter</span></code> (y las funciones
auxiliares necesarias) para:</p>
<ul class="simple">
<li><p>Obtener la cantidad de caracteres.</p></li>
<li><p>Imprimir la frase anterior pero con cada palabra empezando en
mayúsculas.</p></li>
<li><p>Contar cuantas letras ‘a’ tiene la frase.</p></li>
<li><p>Contar cuántas vocales tiene.</p></li>
</ul>
</li>
</ol>
<hr class="docutils" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pie de página">
        <a href="clase_04.html" class="btn btn-neutral float-left" title="Clase 4: Funciones" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Anterior</a>
        <a href="clase_06.html" class="btn btn-neutral float-right" title="Clase 6: Objetos y administración de errores" accesskey="n" rel="next">Siguiente <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Derechos de autor IB - 2025, Juan Fiol.</p>
  </div>

  Compilado con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    proporcionado por <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>