<!DOCTYPE html>
<html class="writer-html5" lang="es" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Clase 10: Más información sobre Numpy &mdash; documentación de Clases de Python - </title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/translations.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="Ejercicios" href="ejercicios.html" />
    <link rel="prev" title="Clase 9: Visualización" href="clase_09.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Clases de Python
            <img src="_static/logo.svg" class="logo" alt="Logotipo"/>
          </a>
              <div class="version">
                IB - 2024
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Buscar documentos" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Dictado de las clases</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="clase_00.html">Clase 0: Introducción al lenguaje Python orientado a Ingenierías y Física</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_01.html">Clase 1: Introducción al lenguaje</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_02.html">Clase 2: Modularización y tipos compuestos</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_03.html">Clase 3: Tipos complejos y control de flujo</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_04.html">Clase 4: Iteraciones y detalles de Funciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_05.html">Clase 5: Persistencia de datos y administración de problemas</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_06.html">Clase 6: Programación Orientada a Objetos</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_07.html">Clase 7: Funciones, decoradores y programación funcional</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_08.html">Clase 8: Introducción a Numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_09.html">Clase 9: Visualización</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Clase 10: Más información sobre <strong>Numpy</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creacion-y-operacion-sobre-numpy-arrays">Creación y operación sobre <strong>Numpy</strong> arrays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#funciones-para-crear-arrays">Funciones para crear arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="#funciones-que-actuan-sobre-arrays">Funciones que actúan sobre arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="#productos-entre-arrays-y-productos-vectoriales">Productos entre arrays y productos vectoriales</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comparaciones-entre-arrays">Comparaciones entre arrays</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#atributos-de-arrays">Atributos de <em>arrays</em></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reshape">reshape</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transpose">transpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="#min-max">min, max</a></li>
<li class="toctree-l3"><a class="reference internal" href="#argmin-argmax">argmin, argmax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sum-prod-mean-std">sum, prod, mean, std</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cumsum-cumprod-trapz">cumsum, cumprod, trapz</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nonzero">nonzero</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#conveniencias-con-arrays">Conveniencias con arrays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#convertir-un-array-a-unidimensional-ravel">Convertir un array a unidimensional (ravel)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enumerate-para-ndarrays">Enumerate para <code class="docutils literal notranslate"><span class="pre">ndarrays</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vectorizacion-de-funciones-escalares">Vectorización de funciones escalares</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ejercicios-10-a">Ejercicios 10 (a)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#copias-de-arrays-y-vistas">Copias de arrays y vistas</a></li>
<li class="toctree-l2"><a class="reference internal" href="#indexado-avanzado">Indexado avanzado</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#indexado-con-secuencias-de-indices">Indexado con secuencias de índices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#indices-de-arrays-multidimensionales">Índices de arrays multidimensionales</a></li>
<li class="toctree-l3"><a class="reference internal" href="#indexado-con-condiciones">Indexado con condiciones</a></li>
<li class="toctree-l3"><a class="reference internal" href="#funcion-where">Función where</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#extension-de-las-dimensiones-broadcasting">Extensión de las dimensiones (<em>Broadcasting</em>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unir-o-concatenar-arrays">Unir (o concatenar) <em>arrays</em></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#apilamiento-vertical">Apilamiento vertical</a></li>
<li class="toctree-l3"><a class="reference internal" href="#apilamiento-horizontal">Apilamiento horizontal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#generacion-de-numeros-aleatorios">Generación de números aleatorios</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#distribucion-uniforme">Distribución uniforme</a></li>
<li class="toctree-l3"><a class="reference internal" href="#distribucion-normal-gaussiana">Distribución normal (Gaussiana)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#histogramas">Histogramas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#distribucion-binomial">Distribución binomial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ejercicios-10-b">Ejercicios 10 (b)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Ejercicios de Clase</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ejercicios.html">Ejercicios</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="entregas_ejercicios.html">Entrega de ejercicios</a></li>
<li class="toctree-l1"><a class="reference internal" href="programa_detalle.html">Programa Detallado</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Clases de Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Clase 10: Más información sobre <strong>Numpy</strong></li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/clase_10.rst.txt" rel="nofollow"> Ver código fuente de la página</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="clase-10-mas-informacion-sobre-numpy">
<span id="clase-10"></span><h1>Clase 10: Más información sobre <strong>Numpy</strong><a class="headerlink" href="#clase-10-mas-informacion-sobre-numpy" title="Enlace permanente a este encabezado"></a></h1>
<section id="creacion-y-operacion-sobre-numpy-arrays">
<h2>Creación y operación sobre <strong>Numpy</strong> arrays<a class="headerlink" href="#creacion-y-operacion-sobre-numpy-arrays" title="Enlace permanente a este encabezado"></a></h2>
<p>Vamos a ver algunas características de los <code class="docutils literal notranslate"><span class="pre">arrays</span></code> de Numpy en un
poco más de detalle</p>
<section id="funciones-para-crear-arrays">
<h3>Funciones para crear arrays<a class="headerlink" href="#funciones-para-crear-arrays" title="Enlace permanente a este encabezado"></a></h3>
<p>Vimos varios métodos que permiten crear e inicializar arrays</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">=</span> <span class="p">{}</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;empty unid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>    <span class="c1">#  Creación de un array de 10 elementos</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;zeros unid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>    <span class="c1">#  Creación de un array de 10 elementos inicializados en cero</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;zeros bidi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="c1">#  Array bidimensional 10 elementos con *shape* 5x2</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;ones bidi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="c1">#  Array bidimensional 10 elementos con *shape* 5x2, inicializado en 1</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;arange&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># Array inicializado con una secuencia</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;lineal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># Array inicializado con una secuencia equiespaciada</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;log&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># Array inicializado con una secuencia con espaciado logarítmico</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;diag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="c1"># Matriz diagonal a partir de un vector</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Array </span><span class="si">{}</span><span class="s1">:</span><span class="se">\n</span><span class="s1"> </span><span class="si">{}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">),</span> <span class="mi">80</span><span class="o">*</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">Array empty unid:
 [4.63711393e-310 0.00000000e+000 8.42957355e+252 5.33808649e+184
 5.05060979e+223 7.62821964e+228 3.17095868e+180 4.61988042e+281
 8.19151929e+247 3.17111435e+180]
 <strong>****************************************************************************</strong>
Array zeros unid:
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 <strong>****************************************************************************</strong>
Array zeros bidi:
 [[0. 0.]
 [0. 0.]
 [0. 0.]
 [0. 0.]
 [0. 0.]]
 <strong>****************************************************************************</strong>
Array ones bidi:
 [[1. 1.]
 [1. 1.]
 [1. 1.]
 [1. 1.]
 [1. 1.]]
 <strong>****************************************************************************</strong>
Array arange:
 [0 1 2 3 4 5 6 7 8 9]
 <strong>****************************************************************************</strong>
Array lineal:
 [ 0.   2.5  5.   7.5 10. ]
 <strong>****************************************************************************</strong>
Array log:
 [  1.           1.66810054   2.7825594    4.64158883   7.74263683
  12.91549665  21.5443469   35.93813664  59.94842503 100.        ]
 <strong>****************************************************************************</strong>
Array diag:
 [[0 0 0 0 0]
 [0 1 0 0 0]
 [0 0 2 0 0]
 [0 0 0 3 0]
 [0 0 0 0 4]]
 <strong>****************************************************************************</strong></pre>
<p>La función <code class="docutils literal notranslate"><span class="pre">np.tile(A,</span> <span class="pre">reps)</span></code> permite crear un array repitiendo el
patrón <code class="docutils literal notranslate"><span class="pre">A</span></code> las veces indicada por <code class="docutils literal notranslate"><span class="pre">reps</span></code> a lo largo de cada eje</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">a</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a1</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">b</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
</pre></div>
</div>
<p>En general, el argumento <code class="docutils literal notranslate"><span class="pre">reps</span> <span class="pre">=</span> <span class="pre">(nrows,</span> <span class="pre">ncols)</span></code> indica el número de
repeticiones en filas (hacia abajo) y columnas (hacia la derecha),
creando nuevas dimensiones si es necesario</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="funciones-que-actuan-sobre-arrays">
<h3>Funciones que actúan sobre arrays<a class="headerlink" href="#funciones-que-actuan-sobre-arrays" title="Enlace permanente a este encabezado"></a></h3>
<p>Numpy incluye muchas funciones matemáticas que actúan sobre arrays
completos (de una o más dimensiones). La lista completa se encuentra en
la
<a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/ufuncs.html#available-ufuncs">documentación</a>
e incluye:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">geomspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>                      <span class="c1"># Suma elemento a elemento</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>                      <span class="c1"># Multiplicación elemento a elemento</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>                      <span class="c1"># División elemento a elemento</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span>                     <span class="c1"># División entera elemento a elemento</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">0.01745329</span> <span class="mf">0.53814319</span> <span class="mf">1.05883308</span> <span class="mf">1.57952297</span> <span class="mf">2.10021287</span> <span class="mf">2.62090276</span>
 <span class="mf">3.14159265</span><span class="p">]</span>
<span class="p">[</span> <span class="mf">10.</span>          <span class="mf">14.67799268</span>  <span class="mf">21.5443469</span>   <span class="mf">31.6227766</span>   <span class="mf">46.41588834</span>
  <span class="mf">68.12920691</span> <span class="mf">100.</span>        <span class="p">]</span>
<span class="p">[</span> <span class="mf">10.01745329</span>  <span class="mf">15.21613586</span>  <span class="mf">22.60317998</span>  <span class="mf">33.20229957</span>  <span class="mf">48.5161012</span>
  <span class="mf">70.75010967</span> <span class="mf">103.14159265</span><span class="p">]</span>
<span class="p">[</span><span class="mf">1.74532925e-01</span> <span class="mf">7.89886174e+00</span> <span class="mf">2.28118672e+01</span> <span class="mf">4.99489021e+01</span>
 <span class="mf">9.74832459e+01</span> <span class="mf">1.78560026e+02</span> <span class="mf">3.14159265e+02</span><span class="p">]</span>
<span class="p">[</span><span class="mf">572.95779513</span>  <span class="mf">27.27525509</span>  <span class="mf">20.34725522</span>  <span class="mf">20.02046006</span>  <span class="mf">22.10056375</span>
  <span class="mf">25.99455727</span>  <span class="mf">31.83098862</span><span class="p">]</span>
<span class="p">[</span><span class="mf">0.</span> <span class="mf">0.</span> <span class="mf">0.</span> <span class="mf">0.</span> <span class="mf">1.</span> <span class="mf">1.</span> <span class="mf">1.</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x =&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;square</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>              <span class="c1"># potencias</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sin</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>             <span class="c1"># Seno (np.cos, np.tan)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tanh</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">tanh</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>           <span class="c1"># tang hiperb (np.sinh, np.cosh)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;exp</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">))</span>           <span class="c1"># exponenciales</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;log</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>            <span class="c1"># logaritmo en base e (np.log10)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;abs</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>        <span class="c1"># Valor absoluto</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;resto</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">remainder</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>  <span class="c1"># Resto</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.01745329</span> <span class="mf">0.53814319</span> <span class="mf">1.05883308</span> <span class="mf">1.57952297</span> <span class="mf">2.10021287</span> <span class="mf">2.62090276</span>
 <span class="mf">3.14159265</span><span class="p">]</span>
<span class="n">square</span>
 <span class="p">[</span><span class="mf">3.04617420e-04</span> <span class="mf">2.89598089e-01</span> <span class="mf">1.12112749e+00</span> <span class="mf">2.49489282e+00</span>
 <span class="mf">4.41089408e+00</span> <span class="mf">6.86913128e+00</span> <span class="mf">9.86960440e+00</span><span class="p">]</span>
<span class="n">sin</span>
 <span class="p">[</span><span class="mf">1.74524064e-02</span> <span class="mf">5.12542501e-01</span> <span class="mf">8.71784414e-01</span> <span class="mf">9.99961923e-01</span>
 <span class="mf">8.63101882e-01</span> <span class="mf">4.97478722e-01</span> <span class="mf">1.22464680e-16</span><span class="p">]</span>
<span class="n">tanh</span>
 <span class="p">[</span><span class="mf">0.01745152</span> <span class="mf">0.49158114</span> <span class="mf">0.78521683</span> <span class="mf">0.91852736</span> <span class="mf">0.97046433</span> <span class="mf">0.9894743</span>
 <span class="mf">0.99627208</span><span class="p">]</span>
<span class="n">exp</span>
 <span class="p">[</span><span class="mf">0.98269813</span> <span class="mf">0.58383131</span> <span class="mf">0.34686033</span> <span class="mf">0.20607338</span> <span class="mf">0.12243036</span> <span class="mf">0.07273717</span>
 <span class="mf">0.04321392</span><span class="p">]</span>
<span class="n">log</span>
 <span class="p">[</span><span class="o">-</span><span class="mf">4.04822697</span> <span class="o">-</span><span class="mf">0.61963061</span>  <span class="mf">0.05716743</span>  <span class="mf">0.45712289</span>  <span class="mf">0.7420387</span>   <span class="mf">0.96351882</span>
  <span class="mf">1.14472989</span><span class="p">]</span>
<span class="nb">abs</span>
 <span class="p">[</span><span class="mf">0.01745329</span> <span class="mf">0.53814319</span> <span class="mf">1.05883308</span> <span class="mf">1.57952297</span> <span class="mf">2.10021287</span> <span class="mf">2.62090276</span>
 <span class="mf">3.14159265</span><span class="p">]</span>
<span class="n">resto</span>
 <span class="p">[</span><span class="mf">0.01745329</span> <span class="mf">0.53814319</span> <span class="mf">1.05883308</span> <span class="mf">1.57952297</span> <span class="mf">0.10021287</span> <span class="mf">0.62090276</span>
 <span class="mf">1.14159265</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">0.01745329</span><span class="p">,</span> <span class="mf">0.53814319</span><span class="p">,</span> <span class="mf">1.05883308</span><span class="p">,</span> <span class="mf">1.57952297</span><span class="p">,</span> <span class="mf">0.10021287</span><span class="p">,</span>
       <span class="mf">0.62090276</span><span class="p">,</span> <span class="mf">1.14159265</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="productos-entre-arrays-y-productos-vectoriales">
<h3>Productos entre arrays y productos vectoriales<a class="headerlink" href="#productos-entre-arrays-y-productos-vectoriales" title="Enlace permanente a este encabezado"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creamos arrays unidimensionales (vectores) y bidimensionales (matrices)</span>
<span class="n">v1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">v2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">11.5</span><span class="p">,</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">1</span>  <span class="mi">3</span>  <span class="mi">5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">7</span>  <span class="mi">9</span> <span class="mi">11</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mf">0.5</span>  <span class="mf">1.5</span>  <span class="mf">2.5</span>  <span class="mf">3.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">4.5</span>  <span class="mf">5.5</span>  <span class="mf">6.5</span>  <span class="mf">7.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">8.5</span>  <span class="mf">9.5</span> <span class="mf">10.5</span> <span class="mf">11.5</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">v1</span><span class="o">*</span><span class="n">v2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">v1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">2</span>  <span class="mi">9</span> <span class="mi">20</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">14</span> <span class="mi">27</span> <span class="mi">44</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">B</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">ValueError</span>                                <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">B</span><span class="p">)</span>


<span class="ne">ValueError</span><span class="p">:</span> <span class="n">operands</span> <span class="n">could</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">broadcast</span> <span class="n">together</span> <span class="k">with</span> <span class="n">shapes</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Los productos se realizan “elemento a elemento”, si queremos obtener
“productos internos” o productos entre matrices (o matrices y vectores)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">]</span> <span class="o">.</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span> <span class="n">A</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">v1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">1</span>  <span class="mi">3</span>  <span class="mi">5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">7</span>  <span class="mi">9</span> <span class="mi">11</span><span class="p">]]</span> <span class="n">x</span> <span class="p">[</span><span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">31</span> <span class="mi">85</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">B</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;A x B = </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="n">x</span> <span class="n">B</span> <span class="o">=</span>
 <span class="p">[[</span> <span class="mf">56.5</span>  <span class="mf">65.5</span>  <span class="mf">74.5</span>  <span class="mf">83.5</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">137.5</span> <span class="mf">164.5</span> <span class="mf">191.5</span> <span class="mf">218.5</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;B^t x A^t =</span><span class="se">\n</span><span class="s1"> &#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">A</span><span class="o">.</span><span class="n">T</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">B</span><span class="o">^</span><span class="n">t</span> <span class="n">x</span> <span class="n">A</span><span class="o">^</span><span class="n">t</span> <span class="o">=</span>
  <span class="p">[[</span> <span class="mf">56.5</span> <span class="mf">137.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">65.5</span> <span class="mf">164.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">74.5</span> <span class="mf">191.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">83.5</span> <span class="mf">218.5</span><span class="p">]]</span>
</pre></div>
</div>
<p>Además, el módulo numpy.linalg incluye otras funcionalidades como
determinantes, normas, determinación de autovalores y autovectores,
descomposiciones, etc.</p>
</section>
<section id="comparaciones-entre-arrays">
<h3>Comparaciones entre arrays<a class="headerlink" href="#comparaciones-entre-arrays" title="Enlace permanente a este encabezado"></a></h3>
<p>La comparación, como las operaciones y aplicación de funciones se
realiza “elemento a elemento”.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Funciones</p></th>
<th class="head"><p>Operadores</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>greater(x1, x2, /[, out, where, casting, …])</p></td>
<td><p>(x1 &gt; x2)</p></td>
</tr>
<tr class="row-odd"><td><p>greater_equal(x1, x2, /[, out, where, …])</p></td>
<td><p>(x1 &gt;= x2)</p></td>
</tr>
<tr class="row-even"><td><p>less(x1, x2, /[, out, where, casting, …])</p></td>
<td><p>(x1 &lt; x2)</p></td>
</tr>
<tr class="row-odd"><td><p>less_equal(x1, x2, /[, out, where, casting, …])</p></td>
<td><p>(x1 =&lt; x2)</p></td>
</tr>
<tr class="row-even"><td><p>not_equal(x1, x2, /[, out, where, casting, …])</p></td>
<td><p>(x1 != x2)</p></td>
</tr>
<tr class="row-odd"><td><p>equal(x1, x2, /[, out, where, casting, …])</p></td>
<td><p>(x1 == x2)</p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mf">0.7</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">0.01745329</span> <span class="mf">0.53814319</span> <span class="mf">1.05883308</span> <span class="mf">1.57952297</span> <span class="mf">2.10021287</span> <span class="mf">2.62090276</span>
 <span class="mf">3.14159265</span><span class="p">]</span>
<span class="p">[</span> <span class="mf">10.</span>          <span class="mf">14.67799268</span>  <span class="mf">21.5443469</span>   <span class="mf">31.6227766</span>   <span class="mf">46.41588834</span>
  <span class="mf">68.12920691</span> <span class="mf">100.</span>        <span class="p">]</span>
<span class="p">[</span><span class="o">-</span><span class="mf">1.</span>   <span class="mf">3.</span>   <span class="mf">4.</span>   <span class="mf">0.5</span>  <span class="mf">2.</span>   <span class="mf">9.</span>   <span class="mf">0.7</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">z</span>
<span class="n">c2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">less_equal</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">c3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">less_equal</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="kc">False</span>  <span class="kc">True</span>  <span class="kc">True</span> <span class="kc">False</span> <span class="kc">False</span>  <span class="kc">True</span> <span class="kc">False</span><span class="p">]</span>
<span class="p">[</span> <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span><span class="p">]</span>
<span class="p">[</span> <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span>                              <span class="c1"># Veamos que tipo de array es:</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="kc">False</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">c1</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">c2</span><span class="p">),</span> <span class="n">c3</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<p>Como vemos, las comparaciones nos dan un vector de variables lógicas.
Cuando queremos combinar condiciones no funciona usar las palabras
<code class="docutils literal notranslate"><span class="pre">and</span></code> y <code class="docutils literal notranslate"><span class="pre">or</span></code> de <em>Python</em> porque estaríamos comparando los dos
elementos (arrays completos).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c1</span> <span class="o">&amp;</span> <span class="n">c2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span> <span class="n">c3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c2</span> <span class="o">&amp;</span> <span class="n">c3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="kc">False</span>  <span class="kc">True</span>  <span class="kc">True</span> <span class="kc">False</span> <span class="kc">False</span>  <span class="kc">True</span> <span class="kc">False</span><span class="p">]</span>
<span class="p">[</span><span class="kc">False</span>  <span class="kc">True</span>  <span class="kc">True</span> <span class="kc">False</span> <span class="kc">False</span>  <span class="kc">True</span> <span class="kc">False</span><span class="p">]</span>
<span class="p">[</span> <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span><span class="p">]</span>
<span class="p">[</span> <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_or</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c1</span> <span class="o">|</span> <span class="n">c2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_or</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span> <span class="n">c3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c2</span> <span class="o">|</span> <span class="n">c3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span><span class="p">]</span>
<span class="p">[</span> <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span><span class="p">]</span>
<span class="p">[</span> <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span><span class="p">]</span>
<span class="p">[</span> <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_xor</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_xor</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span> <span class="n">c3</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="kc">True</span> <span class="kc">False</span> <span class="kc">False</span>  <span class="kc">True</span>  <span class="kc">True</span> <span class="kc">False</span>  <span class="kc">True</span><span class="p">]</span>
<span class="p">[</span><span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="atributos-de-arrays">
<h2>Atributos de <em>arrays</em><a class="headerlink" href="#atributos-de-arrays" title="Enlace permanente a este encabezado"></a></h2>
<p>Los array tienen otras propiedades, que pueden explorarse apretando
<code class="docutils literal notranslate"><span class="pre">&lt;TAB&gt;</span></code> en una terminal o notebook de <strong>IPython</strong> o leyendo la
documentación de <a class="reference external" href="http://docs.scipy.org/doc/numpy/user">Numpy</a>, o
utilizando la función <code class="docutils literal notranslate"><span class="pre">dir(arr)</span></code> (donde <code class="docutils literal notranslate"><span class="pre">arr</span></code> es una variable del
tipo array) o <code class="docutils literal notranslate"><span class="pre">dir(np.ndarray)</span></code>.</p>
<p>En la tabla se muestra una lista de los atributos de los numpy array</p>
<img alt="_images/array_atr.png" src="_images/array_atr.png" />
<p>Exploremos algunas de ellas</p>
<section id="reshape">
<h3>reshape<a class="headerlink" href="#reshape" title="Enlace permanente a este encabezado"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>                         <span class="c1"># Vector</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vector original:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">arr</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">arr2</span><span class="o">=</span> <span class="n">arr</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>                   <span class="c1"># Le cambiamos la forma a matriz de 3x4</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cambiando la forma a 3x4:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">arr2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr2</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">arr3</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">arr</span><span class="p">,(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>                <span class="c1"># Le cambiamos la forma a matriz de 4x3</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cambiando la forma a 4x3:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">arr3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Vector</span> <span class="n">original</span><span class="p">:</span>
 <span class="p">[</span> <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">7</span>  <span class="mi">8</span>  <span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span><span class="p">]</span>
<span class="p">(</span><span class="mi">12</span><span class="p">,)</span>
<span class="n">Cambiando</span> <span class="n">la</span> <span class="n">forma</span> <span class="n">a</span> <span class="mi">3</span><span class="n">x4</span><span class="p">:</span>
 <span class="p">[[</span> <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">7</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">8</span>  <span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span><span class="p">]]</span>
<span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">Cambiando</span> <span class="n">la</span> <span class="n">forma</span> <span class="n">a</span> <span class="mi">4</span><span class="n">x3</span><span class="p">:</span>
 <span class="p">[[</span> <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">3</span>  <span class="mi">4</span>  <span class="mi">5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">6</span>  <span class="mi">7</span>  <span class="mi">8</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr2</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">arr2</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">9</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">5</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">7</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">8</span> <span class="o">-</span><span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mi">5</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">7</span>  <span class="mi">8</span> <span class="o">-</span><span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">5</span>  <span class="mi">1</span>  <span class="mi">2</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">3</span>  <span class="mi">4</span>  <span class="mi">5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">6</span>  <span class="mi">7</span>  <span class="mi">8</span><span class="p">]</span>
 <span class="p">[</span><span class="o">-</span><span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="ow">is</span> <span class="n">arr2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">False</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">arr</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>   <span class="c1"># Si la nueva forma no es adecuada, falla</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: la nueva forma es incompatible:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span><span class="p">:</span> <span class="n">la</span> <span class="n">nueva</span> <span class="n">forma</span> <span class="n">es</span> <span class="n">incompatible</span><span class="p">:</span> <span class="n">cannot</span> <span class="n">reshape</span> <span class="n">array</span> <span class="n">of</span> <span class="n">size</span> <span class="mi">12</span> <span class="n">into</span> <span class="n">shape</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="transpose">
<h3>transpose<a class="headerlink" href="#transpose" title="Enlace permanente a este encabezado"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Transpose:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">arr2</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Transpose:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">arr2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Transpose</span><span class="p">:</span>
 <span class="p">[[</span> <span class="mi">5</span>  <span class="mi">4</span>  <span class="mi">8</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">1</span>  <span class="mi">5</span> <span class="o">-</span><span class="mi">9</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">2</span>  <span class="mi">6</span> <span class="mi">10</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">3</span>  <span class="mi">7</span> <span class="mi">11</span><span class="p">]]</span>
<span class="n">Transpose</span><span class="p">:</span>
 <span class="p">[[</span> <span class="mi">5</span>  <span class="mi">4</span>  <span class="mi">8</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">1</span>  <span class="mi">5</span> <span class="o">-</span><span class="mi">9</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">2</span>  <span class="mi">6</span> <span class="mi">10</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">3</span>  <span class="mi">7</span> <span class="mi">11</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">temp1</span> <span class="o">=</span> <span class="n">arr2</span><span class="o">.</span><span class="n">T</span>
<span class="n">temp2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">temp1</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="n">temp2</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">temp1</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="n">arr2</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">True</span>
<span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="min-max">
<h3>min, max<a class="headerlink" href="#min-max" title="Enlace permanente a este encabezado"></a></h3>
<p>Las funciones para encontrar mínimo y máximo pueden aplicarse tanto a
vectores como a arrays` con más dimensiones. En este último caso puede
elegirse si se trabaja sobre uno de los ejes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">arr2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">5</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">7</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">8</span> <span class="o">-</span><span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span><span class="p">]]</span>
<span class="mi">11</span>
<span class="p">[</span> <span class="mi">8</span>  <span class="mi">5</span> <span class="mi">10</span> <span class="mi">11</span><span class="p">]</span>
<span class="p">[</span> <span class="mi">5</span>  <span class="mi">7</span> <span class="mi">11</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">arr2</span><span class="p">[</span><span class="mi">1</span><span class="p">,:])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">7</span>
</pre></div>
</div>
<p>El primer eje <code class="docutils literal notranslate"><span class="pre">(axis=0)</span></code> corresponde a las columnas (convención del
lenguaje <code class="docutils literal notranslate"><span class="pre">C</span></code>), y por lo tanto dará un valor por cada columna.</p>
<p>Si no damos el argumento opcional <code class="docutils literal notranslate"><span class="pre">axis</span></code> ambas funciones nos darán el
mínimo o máximo de todos los elementos. Si le damos un eje nos devolverá
el mínimo a lo largo de ese eje.</p>
</section>
<section id="argmin-argmax">
<h3>argmin, argmax<a class="headerlink" href="#argmin-argmax" title="Enlace permanente a este encabezado"></a></h3>
<p>Estas funciones trabajan de la misma manera que <code class="docutils literal notranslate"><span class="pre">min</span></code> y <code class="docutils literal notranslate"><span class="pre">max</span></code> pero
devuelve los índices en lugar de los valores.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">arr2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">11</span>
<span class="p">[</span><span class="mi">2</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">[</span><span class="mi">0</span> <span class="mi">3</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="sum-prod-mean-std">
<h3>sum, prod, mean, std<a class="headerlink" href="#sum-prod-mean-std" title="Enlace permanente a este encabezado"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">arr2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sum, 0&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sum, 1&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">5</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">7</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">8</span> <span class="o">-</span><span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span><span class="p">]]</span>
<span class="nb">sum</span> <span class="mi">53</span>
<span class="nb">sum</span><span class="p">,</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">17</span> <span class="o">-</span><span class="mi">3</span> <span class="mi">18</span> <span class="mi">21</span><span class="p">]</span>
<span class="nb">sum</span><span class="p">,</span> <span class="mi">1</span> <span class="p">[</span><span class="mi">11</span> <span class="mi">22</span> <span class="mi">20</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">arr2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="mi">199584000</span>
<span class="p">[</span><span class="mi">160</span> <span class="o">-</span><span class="mi">45</span> <span class="mi">120</span> <span class="mi">231</span><span class="p">]</span>
<span class="p">[</span>   <span class="mi">30</span>   <span class="mi">840</span> <span class="o">-</span><span class="mi">7920</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr2</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="n">arr2</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="n">arr2</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">arr2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">4.416666666666667</span> <span class="o">=</span> <span class="mf">4.416666666666667</span>
<span class="p">[</span> <span class="mf">5.66666667</span> <span class="o">-</span><span class="mf">1.</span>          <span class="mf">6.</span>          <span class="mf">7.</span>        <span class="p">]</span>
<span class="p">[</span><span class="mf">2.75</span> <span class="mf">5.5</span>  <span class="mf">5.</span>  <span class="p">]</span>
<span class="mf">4.9742391936411305</span>
<span class="p">[</span><span class="mf">1.47901995</span> <span class="mf">1.11803399</span> <span class="mf">8.15475322</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="cumsum-cumprod-trapz">
<h3>cumsum, cumprod, trapz<a class="headerlink" href="#cumsum-cumprod-trapz" title="Enlace permanente a este encabezado"></a></h3>
<p>Las funciones <code class="docutils literal notranslate"><span class="pre">cumsum</span></code> y <code class="docutils literal notranslate"><span class="pre">cumprod</span></code> devuelven la suma y producto
acumulativo recorriendo el array, opcionalmente a lo largo de un eje</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">5</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">7</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">8</span> <span class="o">-</span><span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Suma todos los elementos anteriores y devuelve el array unidimensional</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr2</span><span class="o">.</span><span class="n">cumsum</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">8</span> <span class="mi">11</span> <span class="mi">15</span> <span class="mi">20</span> <span class="mi">26</span> <span class="mi">33</span> <span class="mi">41</span> <span class="mi">32</span> <span class="mi">42</span> <span class="mi">53</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Para cada columna, en cada posición suma los elementos anteriores</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr2</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">5</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">9</span>  <span class="mi">6</span>  <span class="mi">8</span> <span class="mi">10</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">17</span> <span class="o">-</span><span class="mi">3</span> <span class="mi">18</span> <span class="mi">21</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># En cada fila, el valor es la suma de todos los elementos anteriores de la fila</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr2</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">8</span> <span class="mi">11</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">4</span>  <span class="mi">9</span> <span class="mi">15</span> <span class="mi">22</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">8</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">9</span> <span class="mi">20</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Igual que antes pero con el producto</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr2</span><span class="o">.</span><span class="n">cumprod</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span>  <span class="mi">5</span>   <span class="mi">1</span>   <span class="mi">2</span>   <span class="mi">3</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">20</span>   <span class="mi">5</span>  <span class="mi">12</span>  <span class="mi">21</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">160</span> <span class="o">-</span><span class="mi">45</span> <span class="mi">120</span> <span class="mi">231</span><span class="p">]]</span>
</pre></div>
</div>
<p>La función trapz evalúa la integral a lo largo de un eje, usando la
regla de los trapecios (la misma que nosotros programamos en un
ejercicio)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">trapz</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">trapz</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">10.5</span>  <span class="mf">1.</span>  <span class="mf">12.</span>  <span class="mf">14.</span> <span class="p">]</span>
<span class="p">[</span> <span class="mf">7.</span>  <span class="mf">16.5</span> <span class="mf">10.5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># el valor por default de axis es -1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">trapz</span><span class="p">(</span><span class="n">arr2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mf">7.</span>  <span class="mf">16.5</span> <span class="mf">10.5</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="nonzero">
<h3>nonzero<a class="headerlink" href="#nonzero" title="Enlace permanente a este encabezado"></a></h3>
<p>Devuelve una <em>tupla</em> de arrays, una por dimensión, que contiene los
índices de los elementos no nulos</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># El método copy() crea un nuevo array con los mismos valores que el original</span>
<span class="n">arr4</span> <span class="o">=</span> <span class="n">arr2</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">arr4</span><span class="p">[</span><span class="mi">1</span><span class="p">,:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr4</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">:]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">arr4</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Vemos que arr2 no se modifica al modificar arr4.</span>
<span class="n">arr2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">arr4</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">arr4</span><span class="o">.</span><span class="n">nonzero</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr4</span><span class="p">[</span><span class="n">arr4</span><span class="o">.</span><span class="n">nonzero</span><span class="p">()]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr4</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr4</span><span class="p">[([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</section>
</section>
<section id="conveniencias-con-arrays">
<h2>Conveniencias con arrays<a class="headerlink" href="#conveniencias-con-arrays" title="Enlace permanente a este encabezado"></a></h2>
<section id="convertir-un-array-a-unidimensional-ravel">
<h3>Convertir un array a unidimensional (ravel)<a class="headerlink" href="#convertir-un-array-a-unidimensional-ravel" title="Enlace permanente a este encabezado"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">1</span> <span class="mi">2</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">3</span> <span class="mi">4</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="mi">4</span><span class="p">,)</span>
<span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="o">.</span><span class="n">base</span>  <span class="ow">is</span> <span class="n">a</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">True</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ravel</span></code> tiene un argumento opcional ‘order’</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>          <span class="c1"># order=&#39;C&#39; es el default</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;F&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>El método <code class="docutils literal notranslate"><span class="pre">flatten</span></code> hace algo muy parecido a <code class="docutils literal notranslate"><span class="pre">ravel</span></code>, la diferencia
es que <code class="docutils literal notranslate"><span class="pre">flatten</span></code> siempre crea una nueva copia del array, mientras que
<code class="docutils literal notranslate"><span class="pre">ravel</span></code> puede devolver una nueva vista del mismo array.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="enumerate-para-ndarrays">
<h3>Enumerate para <code class="docutils literal notranslate"><span class="pre">ndarrays</span></code><a class="headerlink" href="#enumerate-para-ndarrays" title="Enlace permanente a este encabezado"></a></h3>
<p>Para iterables en <strong>Python</strong> existe la función enumerate que devuelve
una tupla con el índice y el valor. En <strong>Numpy</strong> existe un iterador
multidimensional llamado <code class="docutils literal notranslate"><span class="pre">ndenumerate()</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">5</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>  <span class="mi">7</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">8</span> <span class="o">-</span><span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">),</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndenumerate</span><span class="p">(</span><span class="n">arr2</span><span class="p">):</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;x[</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s1">]-&gt; </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span> <span class="mi">5</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-&gt;</span> <span class="mi">1</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="o">-&gt;</span> <span class="mi">2</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="o">-&gt;</span> <span class="mi">3</span>
<span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span> <span class="mi">4</span>
<span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-&gt;</span> <span class="mi">5</span>
<span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="o">-&gt;</span> <span class="mi">6</span>
<span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="o">-&gt;</span> <span class="mi">7</span>
<span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span> <span class="mi">8</span>
<span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-&gt;</span> <span class="o">-</span><span class="mi">9</span>
<span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="o">-&gt;</span> <span class="mi">10</span>
<span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="o">-&gt;</span> <span class="mi">11</span>
</pre></div>
</div>
</section>
<section id="vectorizacion-de-funciones-escalares">
<h3>Vectorización de funciones escalares<a class="headerlink" href="#vectorizacion-de-funciones-escalares" title="Enlace permanente a este encabezado"></a></h3>
<p>Si bien en <strong>Numpy</strong> las funciones están vectorizadas, hay ocasiones en
que las funciones son el resultado de una simulación, optimización,
integración u otro cálculo complejo, y si bien la paralelización puede
ser trivial, el cálculo debe ser realizado para cada valor de algún
parámetro y no puede ser realizado directamente con un vector. Para ello
existe la función <code class="docutils literal notranslate"><span class="pre">vectorize()</span></code>. Veamos un ejemplo, calculando la
función <em>coseno()</em> como la integral del <em>seno()</em></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_trapz</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
  <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
  <span class="n">y</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
  <span class="k">return</span> <span class="p">((</span><span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">+</span><span class="n">y</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">-</span><span class="n">x</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mi_cos</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
  <span class="k">return</span> <span class="mi">1</span><span class="o">-</span><span class="n">my_trapz</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mi_cos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.7071083173516677</span>
</pre></div>
</div>
<p>que se compara bastante bien con el valor esperado del coseno:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.7071067811865477</span>
</pre></div>
</div>
<p>Para calcular sobre un conjunto de datos:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mi_cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="mf">28.998610761224644</span>
</pre></div>
</div>
<p>Obtuvimos un valor único que claramente no puede ser el coseno de ningún
ángulo. Si calculamos el coseno con el mismo argumento (vectorial)
obtenemos un vector de valores como se espera:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mf">1.</span>          <span class="mf">0.99413796</span>  <span class="mf">0.97662056</span>  <span class="mf">0.94765317</span>  <span class="mf">0.90757542</span>  <span class="mf">0.85685718</span>
  <span class="mf">0.79609307</span>  <span class="mf">0.72599549</span>  <span class="mf">0.64738628</span>  <span class="mf">0.56118707</span>  <span class="mf">0.46840844</span>  <span class="mf">0.37013816</span>
  <span class="mf">0.26752834</span>  <span class="mf">0.161782</span>    <span class="mf">0.05413891</span> <span class="o">-</span><span class="mf">0.05413891</span> <span class="o">-</span><span class="mf">0.161782</span>   <span class="o">-</span><span class="mf">0.26752834</span>
 <span class="o">-</span><span class="mf">0.37013816</span> <span class="o">-</span><span class="mf">0.46840844</span> <span class="o">-</span><span class="mf">0.56118707</span> <span class="o">-</span><span class="mf">0.64738628</span> <span class="o">-</span><span class="mf">0.72599549</span> <span class="o">-</span><span class="mf">0.79609307</span>
 <span class="o">-</span><span class="mf">0.85685718</span> <span class="o">-</span><span class="mf">0.90757542</span> <span class="o">-</span><span class="mf">0.94765317</span> <span class="o">-</span><span class="mf">0.97662056</span> <span class="o">-</span><span class="mf">0.99413796</span> <span class="o">-</span><span class="mf">1.</span>        <span class="p">]</span>
</pre></div>
</div>
<p>Si el cálculo fuera más complejo y no tuviéramos la posibilidad de
realizarlo en forma vectorial, debemos realizar una iteración llamando a
esta función en cada paso:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">xx</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
  <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mi_cos</span><span class="p">(</span><span class="n">xx</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mf">1.</span>          <span class="mf">0.99413796</span>  <span class="mf">0.97662057</span>  <span class="mf">0.94765322</span>  <span class="mf">0.90757557</span>  <span class="mf">0.85685753</span>
  <span class="mf">0.7960938</span>   <span class="mf">0.72599683</span>  <span class="mf">0.64738854</span>  <span class="mf">0.56119061</span>  <span class="mf">0.46841375</span>  <span class="mf">0.37014576</span>
  <span class="mf">0.26753886</span>  <span class="mf">0.16179613</span>  <span class="mf">0.05415741</span> <span class="o">-</span><span class="mf">0.05411524</span> <span class="o">-</span><span class="mf">0.16175232</span> <span class="o">-</span><span class="mf">0.26749179</span>
 <span class="o">-</span><span class="mf">0.37009386</span> <span class="o">-</span><span class="mf">0.46835555</span> <span class="o">-</span><span class="mf">0.56112475</span> <span class="o">-</span><span class="mf">0.64731379</span> <span class="o">-</span><span class="mf">0.72591214</span> <span class="o">-</span><span class="mf">0.79599826</span>
 <span class="o">-</span><span class="mf">0.85675045</span> <span class="o">-</span><span class="mf">0.90745645</span> <span class="o">-</span><span class="mf">0.9475218</span>  <span class="o">-</span><span class="mf">0.97647677</span> <span class="o">-</span><span class="mf">0.99398196</span> <span class="o">-</span><span class="mf">0.99983216</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">xx</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">mi_cos</span><span class="p">(</span><span class="n">xx</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span> <span class="n">at</span> <span class="mh">0x7f9d741cee90</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<img alt="_images/10_1_mas_arrays_114_1.png" src="_images/10_1_mas_arrays_114_1.png" />
<p>Como conveniencia, para evitar tener que hacer explícitamente el bucle
<code class="docutils literal notranslate"><span class="pre">for</span></code> existe la función <code class="docutils literal notranslate"><span class="pre">vectorize</span></code>, que toma como argumento a una
función que toma y devuelve escalares, y retorna una función equivalente
que acepta arrays:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">coseno</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">mi_cos</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">coseno</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span> <span class="n">at</span> <span class="mh">0x7f9d6b2ae610</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<img alt="_images/10_1_mas_arrays_117_1.png" src="_images/10_1_mas_arrays_117_1.png" />
</section>
</section>
<hr class="docutils" />
<section id="ejercicios-10-a">
<h2>Ejercicios 10 (a)<a class="headerlink" href="#ejercicios-10-a" title="Enlace permanente a este encabezado"></a></h2>
<ol class="arabic">
<li><p>Dado un array <code class="docutils literal notranslate"><span class="pre">a</span></code> de números, creado por ejemplo usando:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Encontrar el número más cercano a un número escalar dado (por ejemplo
x=0.5). Utilice los métodos discutidos.</p>
</li>
</ol>
<hr class="docutils" />
<p>.</p>
</section>
<section id="copias-de-arrays-y-vistas">
<h2>Copias de arrays y vistas<a class="headerlink" href="#copias-de-arrays-y-vistas" title="Enlace permanente a este encabezado"></a></h2>
<p>Para poder controlar el uso de memoria y su optimización, <strong>Numpy</strong> no
siempre crea un nuevo vector al realizar operaciones. Por ejemplo cuando
seleccionamos una parte de un array usando la notación con “:”
(<em>slicing</em>) devuelve algo que parece un nuevo array pero que en realidad
es una nueva vista del mismo array. Lo mismo ocurre con el método
<code class="docutils literal notranslate"><span class="pre">reshape()</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mf">1.</span>  <span class="mf">2.</span>  <span class="mf">3.</span>  <span class="mf">4.</span>  <span class="mf">5.</span>  <span class="mf">6.</span>  <span class="mf">7.</span>  <span class="mf">8.</span>  <span class="mf">9.</span> <span class="mf">10.</span> <span class="mf">11.</span> <span class="mf">12.</span> <span class="mf">13.</span> <span class="mf">14.</span> <span class="mf">15.</span> <span class="mf">16.</span> <span class="mf">17.</span> <span class="mf">18.</span>
 <span class="mf">19.</span> <span class="mf">20.</span> <span class="mf">21.</span> <span class="mf">22.</span> <span class="mf">23.</span> <span class="mf">24.</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y0</span> <span class="o">=</span> <span class="n">x0</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mf">1.</span>  <span class="mf">3.</span>  <span class="mf">5.</span>  <span class="mf">7.</span>  <span class="mf">9.</span> <span class="mf">11.</span> <span class="mf">13.</span> <span class="mf">15.</span> <span class="mf">17.</span> <span class="mf">19.</span> <span class="mf">21.</span> <span class="mf">23.</span><span class="p">]</span>
</pre></div>
</div>
<p>El atributo <code class="docutils literal notranslate"><span class="pre">base</span></code> nos da acceso al objeto que tiene los datos. Por
ejemplo, en este caso:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x0</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mf">1.</span>  <span class="mf">2.</span>  <span class="mf">3.</span>  <span class="mf">4.</span>  <span class="mf">5.</span>  <span class="mf">6.</span>  <span class="mf">7.</span>  <span class="mf">8.</span>  <span class="mf">9.</span> <span class="mf">10.</span> <span class="mf">11.</span> <span class="mf">12.</span> <span class="mf">13.</span> <span class="mf">14.</span> <span class="mf">15.</span> <span class="mf">16.</span> <span class="mf">17.</span> <span class="mf">18.</span>
 <span class="mf">19.</span> <span class="mf">20.</span> <span class="mf">21.</span> <span class="mf">22.</span> <span class="mf">23.</span> <span class="mf">24.</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">y0</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mf">1.</span>  <span class="mf">2.</span>  <span class="mf">3.</span>  <span class="mf">4.</span>  <span class="mf">5.</span>  <span class="mf">6.</span>  <span class="mf">7.</span>  <span class="mf">8.</span>  <span class="mf">9.</span> <span class="mf">10.</span> <span class="mf">11.</span> <span class="mf">12.</span> <span class="mf">13.</span> <span class="mf">14.</span> <span class="mf">15.</span> <span class="mf">16.</span> <span class="mf">17.</span> <span class="mf">18.</span>
 <span class="mf">19.</span> <span class="mf">20.</span> <span class="mf">21.</span> <span class="mf">22.</span> <span class="mf">23.</span> <span class="mf">24.</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y0</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="n">x0</span><span class="o">.</span><span class="n">base</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">True</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">x0</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">y0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y0</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">x0</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y0</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mf">1.</span>  <span class="mf">2.</span> <span class="o">-</span><span class="mf">1.</span>  <span class="mf">4.</span>  <span class="mf">5.</span>  <span class="mf">6.</span>  <span class="mf">7.</span>  <span class="mf">8.</span>  <span class="mf">9.</span> <span class="mf">10.</span> <span class="mf">11.</span> <span class="mf">12.</span> <span class="mf">13.</span> <span class="mf">14.</span> <span class="mf">15.</span> <span class="mf">16.</span> <span class="mf">17.</span> <span class="mf">18.</span>
 <span class="mf">19.</span> <span class="mf">20.</span> <span class="mf">21.</span> <span class="mf">22.</span> <span class="mf">23.</span> <span class="mf">24.</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x0</span><span class="o">.</span><span class="n">base</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mf">1.</span><span class="p">,</span>  <span class="mf">2.</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.</span><span class="p">,</span>  <span class="mf">4.</span><span class="p">,</span>  <span class="mf">5.</span><span class="p">,</span>  <span class="mf">6.</span><span class="p">,</span>  <span class="mf">7.</span><span class="p">,</span>  <span class="mf">8.</span><span class="p">,</span>  <span class="mf">9.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">,</span> <span class="mf">12.</span><span class="p">,</span> <span class="mf">13.</span><span class="p">,</span>
       <span class="mf">14.</span><span class="p">,</span> <span class="mf">15.</span><span class="p">,</span> <span class="mf">16.</span><span class="p">,</span> <span class="mf">17.</span><span class="p">,</span> <span class="mf">18.</span><span class="p">,</span> <span class="mf">19.</span><span class="p">,</span> <span class="mf">20.</span><span class="p">,</span> <span class="mf">21.</span><span class="p">,</span> <span class="mf">22.</span><span class="p">,</span> <span class="mf">23.</span><span class="p">,</span> <span class="mf">24.</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x0</span><span class="o">.</span><span class="n">strides</span><span class="p">,</span> <span class="n">y0</span><span class="o">.</span><span class="n">strides</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">((</span><span class="mi">8</span><span class="p">,),</span> <span class="p">(</span><span class="mi">16</span><span class="p">,))</span>
</pre></div>
</div>
<p>En este ejemplo, el array <code class="docutils literal notranslate"><span class="pre">y0</span></code> está basado en <code class="docutils literal notranslate"><span class="pre">x0</span></code>, o –lo que es lo
mismo– el objeto base de <code class="docutils literal notranslate"><span class="pre">y0</span></code> es <code class="docutils literal notranslate"><span class="pre">x0</span></code>. Por lo tanto, al modificar
uno, se modifica el otro.</p>
<p>Las funciones <code class="docutils literal notranslate"><span class="pre">reshape</span></code> y <code class="docutils literal notranslate"><span class="pre">transpose</span></code> también devuelven <strong>vistas</strong>
del array original en lugar de una nueva copia</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x0</span><span class="p">)</span>
<span class="n">x1</span> <span class="o">=</span> <span class="n">x0</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mf">1.</span>  <span class="mf">2.</span>  <span class="mf">3.</span>  <span class="mf">4.</span>  <span class="mf">5.</span>  <span class="mf">6.</span>  <span class="mf">7.</span>  <span class="mf">8.</span>  <span class="mf">9.</span> <span class="mf">10.</span> <span class="mf">11.</span> <span class="mf">12.</span> <span class="mf">13.</span> <span class="mf">14.</span> <span class="mf">15.</span> <span class="mf">16.</span> <span class="mf">17.</span> <span class="mf">18.</span>
 <span class="mf">19.</span> <span class="mf">20.</span> <span class="mf">21.</span> <span class="mf">22.</span> <span class="mf">23.</span> <span class="mf">24.</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mf">1.</span>  <span class="mf">2.</span>  <span class="mf">3.</span>  <span class="mf">4.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">5.</span>  <span class="mf">6.</span>  <span class="mf">7.</span>  <span class="mf">8.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">9.</span> <span class="mf">10.</span> <span class="mf">11.</span> <span class="mf">12.</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">13.</span> <span class="mf">14.</span> <span class="mf">15.</span> <span class="mf">16.</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">17.</span> <span class="mf">18.</span> <span class="mf">19.</span> <span class="mf">20.</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">21.</span> <span class="mf">22.</span> <span class="mf">23.</span> <span class="mf">24.</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x1</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="n">x0</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">True</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x2</span> <span class="o">=</span> <span class="n">x1</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x2</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="n">x0</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">True</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">1.</span><span class="p">,</span>  <span class="mf">5.</span><span class="p">,</span>  <span class="mf">9.</span><span class="p">,</span> <span class="mf">13.</span><span class="p">,</span> <span class="mf">17.</span><span class="p">,</span> <span class="mf">21.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">2.</span><span class="p">,</span>  <span class="mf">6.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">14.</span><span class="p">,</span> <span class="mf">18.</span><span class="p">,</span> <span class="mf">22.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">3.</span><span class="p">,</span>  <span class="mf">7.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">,</span> <span class="mf">15.</span><span class="p">,</span> <span class="mf">19.</span><span class="p">,</span> <span class="mf">23.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">4.</span><span class="p">,</span>  <span class="mf">8.</span><span class="p">,</span> <span class="mf">12.</span><span class="p">,</span> <span class="mf">16.</span><span class="p">,</span> <span class="mf">20.</span><span class="p">,</span> <span class="mf">24.</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x2</span><span class="o">.</span><span class="n">strides</span><span class="p">,</span> <span class="n">x1</span><span class="o">.</span><span class="n">strides</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">((</span><span class="mi">8</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span> <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
<p>Las “vistas” son referencias al mismo conjunto de datos, pero la
información respecto al objeto puede ser diferente. Por ejemplo en el
anterior <code class="docutils literal notranslate"><span class="pre">x0</span></code>, <code class="docutils literal notranslate"><span class="pre">x1</span></code> y <code class="docutils literal notranslate"><span class="pre">x</span></code> son diferentes objetos pero con los
mismos datos (no sólo iguales)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x1</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="n">x0</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x2</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="n">x0</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x0</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">x0</span><span class="o">.</span><span class="n">strides</span><span class="p">,</span> <span class="n">x0</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x1</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">x1</span><span class="o">.</span><span class="n">strides</span><span class="p">,</span> <span class="n">x1</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x2</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">x2</span><span class="o">.</span><span class="n">strides</span><span class="p">,</span> <span class="n">x2</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">True</span>
<span class="kc">True</span>
<span class="p">(</span><span class="mi">24</span><span class="p">,)</span> <span class="p">(</span><span class="mi">8</span><span class="p">,)</span> <span class="n">float64</span>
<span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="n">float64</span>
<span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> <span class="n">float64</span>
</pre></div>
</div>
<p>Los datos en los tres objetos están compartidos:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;original&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x2 =&#39;</span><span class="p">,</span><span class="n">x2</span><span class="p">)</span>
<span class="n">x0</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=-</span><span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x0 =&#39;</span><span class="p">,</span><span class="n">x0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">original</span>
<span class="n">x2</span> <span class="o">=</span> <span class="p">[[</span> <span class="mf">1.</span>  <span class="mf">5.</span>  <span class="mf">9.</span> <span class="mf">13.</span> <span class="mf">17.</span> <span class="mf">21.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">2.</span>  <span class="mf">6.</span> <span class="mf">10.</span> <span class="mf">14.</span> <span class="mf">18.</span> <span class="mf">22.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">3.</span>  <span class="mf">7.</span> <span class="mf">11.</span> <span class="mf">15.</span> <span class="mf">19.</span> <span class="mf">23.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">4.</span>  <span class="mf">8.</span> <span class="mf">12.</span> <span class="mf">16.</span> <span class="mf">20.</span> <span class="mf">24.</span><span class="p">]]</span>
<span class="n">x0</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">1.</span>  <span class="mf">2.</span>  <span class="mf">3.</span>  <span class="mf">4.</span>  <span class="mf">5.</span>  <span class="mf">6.</span>  <span class="mf">7.</span>  <span class="mf">8.</span>  <span class="mf">9.</span> <span class="mf">10.</span> <span class="mf">11.</span> <span class="mf">12.</span> <span class="mf">13.</span> <span class="mf">14.</span> <span class="mf">15.</span> <span class="mf">16.</span> <span class="mf">17.</span> <span class="mf">18.</span>
 <span class="mf">19.</span> <span class="mf">20.</span> <span class="mf">21.</span> <span class="mf">22.</span> <span class="mf">23.</span> <span class="o">-</span><span class="mf">1.</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cambiado&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x2 =&#39;</span><span class="p">,</span><span class="n">x2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cambiado</span>
<span class="n">x2</span> <span class="o">=</span> <span class="p">[[</span> <span class="mf">1.</span>  <span class="mf">5.</span>  <span class="mf">9.</span> <span class="mf">13.</span> <span class="mf">17.</span> <span class="mf">21.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">2.</span>  <span class="mf">6.</span> <span class="mf">10.</span> <span class="mf">14.</span> <span class="mf">18.</span> <span class="mf">22.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">3.</span>  <span class="mf">7.</span> <span class="mf">11.</span> <span class="mf">15.</span> <span class="mf">19.</span> <span class="mf">23.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">4.</span>  <span class="mf">8.</span> <span class="mf">12.</span> <span class="mf">16.</span> <span class="mf">20.</span> <span class="o">-</span><span class="mf">1.</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x1 =&#39;</span><span class="p">,</span><span class="n">x1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x1</span> <span class="o">=</span> <span class="p">[[</span> <span class="mf">1.</span>  <span class="mf">2.</span>  <span class="mf">3.</span>  <span class="mf">4.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">5.</span>  <span class="mf">6.</span>  <span class="mf">7.</span>  <span class="mf">8.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">9.</span> <span class="mf">10.</span> <span class="mf">11.</span> <span class="mf">12.</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">13.</span> <span class="mf">14.</span> <span class="mf">15.</span> <span class="mf">16.</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">17.</span> <span class="mf">18.</span> <span class="mf">19.</span> <span class="mf">20.</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">21.</span> <span class="mf">22.</span> <span class="mf">23.</span> <span class="o">-</span><span class="mf">1.</span><span class="p">]]</span>
</pre></div>
</div>
</section>
<section id="indexado-avanzado">
<h2>Indexado avanzado<a class="headerlink" href="#indexado-avanzado" title="Enlace permanente a este encabezado"></a></h2>
<section id="indexado-con-secuencias-de-indices">
<h3>Indexado con secuencias de índices<a class="headerlink" href="#indexado-con-secuencias-de-indices" title="Enlace permanente a este encabezado"></a></h3>
<p>Consideremos un vector simple, y elijamos algunos de sus elementos</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="n">x</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">0.</span> <span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.</span> <span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.</span> <span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">3.</span> <span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Standard slicing</span>
<span class="n">v1</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span>
<span class="n">v1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">])</span>
</pre></div>
</div>
<p>Esta es la manera simple de seleccionar elementos de un array, y como
vimos lo que se obtiene es una vista del mismo array. <strong>Numpy</strong> permite
además seleccionar partes de un array usando otro array de índices:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Array Slicing con índices ind</span>
<span class="n">i1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">v2</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i1</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">0.</span>  <span class="mf">0.5</span> <span class="mf">1.</span>  <span class="mf">1.5</span> <span class="mf">2.</span>  <span class="mf">2.5</span> <span class="mf">3.</span> <span class="p">]</span>
<span class="p">[</span><span class="mf">0.5</span> <span class="mf">1.5</span> <span class="mf">3.</span>  <span class="mf">0.</span> <span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">v1</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="n">x</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">v2</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="n">x</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">True</span>
<span class="kc">False</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.</span> <span class="p">,</span> <span class="mf">3.</span> <span class="p">])</span>
</pre></div>
</div>
<p>Los índices negativos funcionan en exactamente la misma manera que en el
caso simple.</p>
<p>Es importante notar que cuando se usan arrays índices, lo que se obtiene
es un nuevo array (no una vista), y este nuevo array tiene las
dimensiones (<code class="docutils literal notranslate"><span class="pre">shape</span></code>) del array de índices</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">i2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">v3</span><span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i2</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">v3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x  shape:&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;v3 shape:&#39;</span><span class="p">,</span> <span class="n">v3</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">0.</span>  <span class="mf">0.5</span> <span class="mf">1.</span>  <span class="mf">1.5</span> <span class="mf">2.</span>  <span class="mf">2.5</span> <span class="mf">3.</span> <span class="p">]</span>
<span class="p">[[</span><span class="mf">0.5</span> <span class="mf">0.</span> <span class="p">]</span>
 <span class="p">[</span><span class="mf">1.</span>  <span class="mf">0.5</span><span class="p">]]</span>
<span class="n">x</span>  <span class="n">shape</span><span class="p">:</span> <span class="p">(</span><span class="mi">7</span><span class="p">,)</span>
<span class="n">v3</span> <span class="n">shape</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="indices-de-arrays-multidimensionales">
<h3>Índices de arrays multidimensionales<a class="headerlink" href="#indices-de-arrays-multidimensionales" title="Enlace permanente a este encabezado"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="o">+</span><span class="mf">0.5</span>
<span class="n">y</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">12.5</span><span class="p">,</span> <span class="mf">11.5</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">,</span>  <span class="mf">9.5</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">8.5</span><span class="p">,</span>  <span class="mf">7.5</span><span class="p">,</span>  <span class="mf">6.5</span><span class="p">,</span>  <span class="mf">5.5</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">4.5</span><span class="p">,</span>  <span class="mf">3.5</span><span class="p">,</span>  <span class="mf">2.5</span><span class="p">,</span>  <span class="mf">1.5</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>                     <span class="c1"># Primera fila</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>                     <span class="c1"># Última fila</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">12.5</span> <span class="mf">11.5</span> <span class="mf">10.5</span>  <span class="mf">9.5</span><span class="p">]</span>
<span class="p">[</span><span class="mf">4.5</span> <span class="mf">3.5</span> <span class="mf">2.5</span> <span class="mf">1.5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>       <span class="c1"># Primera y última fila</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mf">12.5</span> <span class="mf">11.5</span> <span class="mf">10.5</span>  <span class="mf">9.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">4.5</span>  <span class="mf">3.5</span>  <span class="mf">2.5</span>  <span class="mf">1.5</span><span class="p">]]</span>
</pre></div>
</div>
<p>Si usamos más de un array de índices para seleccionar elementos de un
array multidimensional, cada array de índices se refiere a una dimensión
diferente. Consideremos el array <code class="docutils literal notranslate"><span class="pre">y</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mf">12.5</span> <span class="mf">11.5</span> <span class="mf">10.5</span>  <span class="mf">9.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">8.5</span>  <span class="mf">7.5</span>  <span class="mf">6.5</span>  <span class="mf">5.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">4.5</span>  <span class="mf">3.5</span>  <span class="mf">2.5</span>  <span class="mf">1.5</span><span class="p">]]</span>
</pre></div>
</div>
<img alt="_images/adv_index.png" src="_images/adv_index.png" />
<p>Si queremos elegir los elementos en los lugares
<code class="docutils literal notranslate"><span class="pre">[0,1],</span> <span class="pre">[1,2],</span> <span class="pre">[0,3],</span> <span class="pre">[1,1]</span></code> (en ese orden) podemos crear dos array de
índices con los valores correspondientes a cada dimensión</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">j</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">11.5</span>  <span class="mf">6.5</span>  <span class="mf">9.5</span>  <span class="mf">7.5</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="indexado-con-condiciones">
<h3>Indexado con condiciones<a class="headerlink" href="#indexado-con-condiciones" title="Enlace permanente a este encabezado"></a></h3>
<p>Además de usar notación de <em>slices</em>, e índices también podemos
seleccionar partes de arrays usando una matriz de condiciones. Primero
creamos una matriz de coniciones <code class="docutils literal notranslate"><span class="pre">c</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="kc">False</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;bool&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span><span class="p">]</span>
 <span class="p">[</span><span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span><span class="p">]</span>
 <span class="p">[</span><span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Es necesario dar el tipo de los elementos para que sean lógicos</span>
<span class="kc">False</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">=</span> <span class="kc">True</span>                    <span class="c1"># Aplico la notación de índice avanzado</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="kc">False</span>  <span class="kc">True</span> <span class="kc">False</span>  <span class="kc">True</span><span class="p">]</span>
 <span class="p">[</span><span class="kc">False</span>  <span class="kc">True</span>  <span class="kc">True</span> <span class="kc">False</span><span class="p">]</span>
 <span class="p">[</span><span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">12.5</span><span class="p">,</span> <span class="mf">11.5</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">,</span>  <span class="mf">9.5</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">8.5</span><span class="p">,</span>  <span class="mf">7.5</span><span class="p">,</span>  <span class="mf">6.5</span><span class="p">,</span>  <span class="mf">5.5</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">4.5</span><span class="p">,</span>  <span class="mf">3.5</span><span class="p">,</span>  <span class="mf">2.5</span><span class="p">,</span>  <span class="mf">1.5</span><span class="p">]])</span>
</pre></div>
</div>
<p>Como vemos, <code class="docutils literal notranslate"><span class="pre">c</span></code> es una matriz con la misma forma que <code class="docutils literal notranslate"><span class="pre">y</span></code>. Esto
permite seleccionar los valores donde el array de condiciones es
verdadero:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">yy</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">c</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">yy</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">11.5</span><span class="p">,</span>  <span class="mf">9.5</span><span class="p">,</span>  <span class="mf">7.5</span><span class="p">,</span>  <span class="mf">6.5</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">yy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=-</span><span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mf">12.5</span> <span class="mf">11.5</span> <span class="mf">10.5</span>  <span class="mf">9.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">8.5</span>  <span class="mf">7.5</span>  <span class="mf">6.5</span>  <span class="mf">5.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">4.5</span>  <span class="mf">3.5</span>  <span class="mf">2.5</span>  <span class="mf">1.5</span><span class="p">]]</span>
</pre></div>
</div>
<p>Esta es una notación potente. Por ejemplo, si en el array anterior
queremos seleccionar todos los valores que sobrepasan cierto umbral (por
ejemplo, los valores mayores a 7)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">c1</span> <span class="o">=</span> <span class="p">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">7</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mf">12.5</span> <span class="mf">11.5</span> <span class="mf">10.5</span>  <span class="mf">9.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">8.5</span>  <span class="mf">7.5</span>  <span class="mf">6.5</span>  <span class="mf">5.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">4.5</span>  <span class="mf">3.5</span>  <span class="mf">2.5</span>  <span class="mf">1.5</span><span class="p">]]</span>
<span class="p">[[</span> <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span><span class="p">]</span>
 <span class="p">[</span> <span class="kc">True</span>  <span class="kc">True</span> <span class="kc">False</span> <span class="kc">False</span><span class="p">]</span>
 <span class="p">[</span><span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span><span class="p">]]</span>
</pre></div>
</div>
<p>El resultado de una comparación es un array donde cada elemento es un
variable lógica (<code class="docutils literal notranslate"><span class="pre">True</span></code> o <code class="docutils literal notranslate"><span class="pre">False</span></code>). Podemos utilizarlo para
seleccionar los valores que cumplen la condición dada. Por ejemplo</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span><span class="p">[</span><span class="n">c1</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">12.5</span><span class="p">,</span> <span class="mf">11.5</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">,</span>  <span class="mf">9.5</span><span class="p">,</span>  <span class="mf">8.5</span><span class="p">,</span>  <span class="mf">7.5</span><span class="p">])</span>
</pre></div>
</div>
<p>De la misma manera, si queremos todos los valores entre 4 y 7
(incluidos), podemos hacer</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span><span class="p">[</span> <span class="p">(</span><span class="n">y</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="mi">7</span><span class="p">)</span> <span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">6.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">])</span>
</pre></div>
</div>
<p>Como mostramos en este ejemplo, no es necesario crear la matriz de
condiciones previamente.</p>
<p><strong>Numpy</strong> tiene funciones especiales para analizar datos de array que
sirven para quedarse con los valores que cumplen ciertas condiciones. La
función <code class="docutils literal notranslate"><span class="pre">nonzero</span></code> devuelve los índices donde el argumento no se anula:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span> <span class="o">=</span> <span class="p">(</span><span class="n">y</span><span class="o">&gt;=</span><span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">y</span> <span class="o">&lt;=</span><span class="mi">7</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
<p>Esta es la notación de avanzada de índices, y nos dice que los elementos
cuya condición es diferente de cero (<code class="docutils literal notranslate"><span class="pre">True</span></code>) están en las posiciones:
<code class="docutils literal notranslate"><span class="pre">[1,2],</span> <span class="pre">[1,3],</span> <span class="pre">[2,0]</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">indx</span><span class="p">,</span> <span class="n">indy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;indx =&#39;</span><span class="p">,</span> <span class="n">indx</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;indy =&#39;</span><span class="p">,</span> <span class="n">indy</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">indx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">indy</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span> <span class="mi">3</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">indx</span><span class="p">,</span> <span class="n">indy</span><span class="p">):</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;y[</span><span class="si">{}</span><span class="s1">,</span><span class="si">{}</span><span class="s1">]=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="mf">6.5</span>
<span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="mf">5.5</span>
<span class="n">y</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mf">4.5</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">c1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">c1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">c1</span><span class="p">)])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]))</span>
<span class="p">[[</span><span class="mi">1</span> <span class="mi">2</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">1</span> <span class="mi">3</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">2</span> <span class="mi">0</span><span class="p">]]</span>
<span class="p">[</span><span class="mf">6.5</span> <span class="mf">5.5</span> <span class="mf">4.5</span><span class="p">]</span>
</pre></div>
</div>
<p>El resultado de <code class="docutils literal notranslate"><span class="pre">nonzero()</span></code> se puede utilizar directamente para elegir
los elementos con la notación de índices avanzados, y su transpuesta es
un array donde cada elemento es un índice donde no se anula.</p>
<p>Existe la función <code class="docutils literal notranslate"><span class="pre">np.argwhere()</span></code> que es lo mismo que
<code class="docutils literal notranslate"><span class="pre">np.transpose(np.nonzero(a))</span></code>.</p>
<p>Otra función que sirve para elegir elementos basados en alguna condición
es <code class="docutils literal notranslate"><span class="pre">np.compress(condition,</span> <span class="pre">a,</span> <span class="pre">axis=None,</span> <span class="pre">out=None)</span></code> que acepta un
array unidimensional como condición</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span><span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span><span class="p">]</span>
 <span class="p">[</span><span class="kc">False</span> <span class="kc">False</span>  <span class="kc">True</span>  <span class="kc">True</span><span class="p">]</span>
 <span class="p">[</span> <span class="kc">True</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span><span class="p">]]</span>
<span class="p">[</span><span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span>  <span class="kc">True</span>  <span class="kc">True</span>  <span class="kc">True</span> <span class="kc">False</span> <span class="kc">False</span> <span class="kc">False</span><span class="p">]</span>
<span class="p">[[</span><span class="mf">12.5</span> <span class="mf">11.5</span> <span class="mf">10.5</span>  <span class="mf">9.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">8.5</span>  <span class="mf">7.5</span>  <span class="mf">6.5</span>  <span class="mf">5.5</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">4.5</span>  <span class="mf">3.5</span>  <span class="mf">2.5</span>  <span class="mf">1.5</span><span class="p">]]</span>
<span class="p">[</span><span class="mf">6.5</span> <span class="mf">5.5</span> <span class="mf">4.5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c3</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">c3</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">6.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">])</span>
</pre></div>
</div>
<p>La función <code class="docutils literal notranslate"><span class="pre">extract</span></code> es equivalente a convertir los dos vectores
(condición y datos) a una dimensión (<code class="docutils literal notranslate"><span class="pre">ravel</span></code>) y luego aplicar
<code class="docutils literal notranslate"><span class="pre">compress</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">6.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">c1</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">6.5</span> <span class="mf">5.5</span> <span class="mf">4.5</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="funcion-where">
<h3>Función where<a class="headerlink" href="#funcion-where" title="Enlace permanente a este encabezado"></a></h3>
<p>La función <code class="docutils literal notranslate"><span class="pre">where</span></code> permite operar condicionalmente sobre algunos
elementos. Por ejemplo, si queremos convolucionar el vector <code class="docutils literal notranslate"><span class="pre">y</span></code> con un
escalón localizado en la región <code class="docutils literal notranslate"><span class="pre">[2,8]</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span>  <span class="p">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">yy</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span> <span class="p">,</span> <span class="mf">0.</span> <span class="p">,</span> <span class="mf">0.</span> <span class="p">,</span> <span class="mf">0.</span> <span class="p">],</span>
       <span class="p">[</span><span class="mf">0.</span> <span class="p">,</span> <span class="mf">7.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">0.</span> <span class="p">]])</span>
</pre></div>
</div>
<p>Por ejemplo, para implementar la función de Heaviside</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">def</span> <span class="nf">H</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span>
<span class="n">H</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">H</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span> <span class="n">at</span> <span class="mh">0x7f008cc0e3d0</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<img alt="_images/10_2_indexado_80_1.png" src="_images/10_2_indexado_80_1.png" />
</section>
</section>
<section id="extension-de-las-dimensiones-broadcasting">
<h2>Extensión de las dimensiones (<em>Broadcasting</em>)<a class="headerlink" href="#extension-de-las-dimensiones-broadcasting" title="Enlace permanente a este encabezado"></a></h2>
<p>Vimos que en <strong>Numpy</strong> las operaciones (y comparaciones) se realizan
“elemento a elemento”. Sin embargo usamos expresiones del tipo <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">&gt;</span> <span class="pre">4</span></code>
donde comparamos un <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> con un escalar. En este caso, lo que
hace <strong>Numpy</strong> es extender automáticamente el escalar a un array de las
mismas dimensiones que <code class="docutils literal notranslate"><span class="pre">y</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="o">-&gt;</span> <span class="mi">4</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
<p>Hagamos esto explícitamente</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">12.5</span><span class="p">,</span> <span class="mf">11.5</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">,</span>  <span class="mf">9.5</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">8.5</span><span class="p">,</span>  <span class="mf">7.5</span><span class="p">,</span>  <span class="mf">6.5</span><span class="p">,</span>  <span class="mf">5.5</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">4.5</span><span class="p">,</span>  <span class="mf">3.5</span><span class="p">,</span>  <span class="mf">2.5</span><span class="p">,</span>  <span class="mf">1.5</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y4</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">((</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">y4</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">))</span> <span class="c1"># np.all devuelve True si **TODOS** los elementos son iguales</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">True</span>
</pre></div>
</div>
<p>De la misma manera, hay veces que podemos operar sobre arrays de
distintas dimensiones</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y4</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">+</span> <span class="n">y4</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">16.5</span><span class="p">,</span> <span class="mf">15.5</span><span class="p">,</span> <span class="mf">14.5</span><span class="p">,</span> <span class="mf">13.5</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">12.5</span><span class="p">,</span> <span class="mf">11.5</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">,</span>  <span class="mf">9.5</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">8.5</span><span class="p">,</span>  <span class="mf">7.5</span><span class="p">,</span>  <span class="mf">6.5</span><span class="p">,</span>  <span class="mf">5.5</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">+</span> <span class="mi">4</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">16.5</span><span class="p">,</span> <span class="mf">15.5</span><span class="p">,</span> <span class="mf">14.5</span><span class="p">,</span> <span class="mf">13.5</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">12.5</span><span class="p">,</span> <span class="mf">11.5</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">,</span>  <span class="mf">9.5</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">8.5</span><span class="p">,</span>  <span class="mf">7.5</span><span class="p">,</span>  <span class="mf">6.5</span><span class="p">,</span>  <span class="mf">5.5</span><span class="p">]])</span>
</pre></div>
</div>
<p>Como vemos eso es igual a <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">+</span> <span class="pre">4*np.ones(y.shape)</span></code>. En general, si
Numpy puede transformar los arreglos para que todos tengan el mismo
tamaño, lo hará en forma automática.</p>
<p>Las reglas de la extensión automática son:</p>
<ol class="arabic simple">
<li><p>La extensión se realiza por dimensión. Dos dimensiones son
compatibles si son iguales o una de ellas es 1.</p></li>
<li><p>Si los dos <code class="docutils literal notranslate"><span class="pre">arrays</span></code> difieren en el número de dimensiones, el que
tiene menor dimensión se llena con <code class="docutils literal notranslate"><span class="pre">1</span></code> (unos) en el primer eje.</p></li>
</ol>
<p>Veamos algunos ejemplos:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">xx</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">xx</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">4</span><span class="p">,)</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">xx</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">0</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">10</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">20</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">30</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">xx</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">10</span> <span class="mi">11</span> <span class="mi">12</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">20</span> <span class="mi">21</span> <span class="mi">22</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">30</span> <span class="mi">31</span> <span class="mi">32</span><span class="p">]]</span>
</pre></div>
</div>
<p>Lo que está pasando es algo así como:</p>
<ul class="simple">
<li><p>xx -&gt; xxx</p></li>
<li><p>y -&gt; yyy</p></li>
<li><p>xx + y -&gt; xxx + yyy</p></li>
</ul>
<img alt="_images/numpy_broadcasting.png" src="_images/numpy_broadcasting.png" />
<p>donde <code class="docutils literal notranslate"><span class="pre">xxx</span></code>, <code class="docutils literal notranslate"><span class="pre">yyy</span></code> son versiones extendidas de los vectores
originales:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">xxx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
<span class="n">yyy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">xx</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">xxx</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">10</span> <span class="mi">10</span> <span class="mi">10</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">20</span> <span class="mi">20</span> <span class="mi">20</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">30</span> <span class="mi">30</span> <span class="mi">30</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">yyy</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">xxx</span> <span class="o">+</span> <span class="n">yyy</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span> <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">10</span> <span class="mi">11</span> <span class="mi">12</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">20</span> <span class="mi">21</span> <span class="mi">22</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">30</span> <span class="mi">31</span> <span class="mi">32</span><span class="p">]]</span>
</pre></div>
</div>
</section>
<section id="unir-o-concatenar-arrays">
<h2>Unir (o concatenar) <em>arrays</em><a class="headerlink" href="#unir-o-concatenar-arrays" title="Enlace permanente a este encabezado"></a></h2>
<p>Si queremos unir dos <em>arrays</em> para formar un tercer <em>array</em> <strong>Numpy</strong>
tiene una función llamada <code class="docutils literal notranslate"><span class="pre">concatenate</span></code>, que recibe una secuencia de
arrays y devuelve su unión a lo largo de un eje.</p>
<section id="apilamiento-vertical">
<h3>Apilamiento vertical<a class="headerlink" href="#apilamiento-vertical" title="Enlace permanente a este encabezado"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;a=</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;b=</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">=</span>
 <span class="p">[[</span><span class="mi">1</span> <span class="mi">2</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">3</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">b</span><span class="o">=</span>
 <span class="p">[[</span> <span class="mi">5</span>  <span class="mi">6</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">7</span>  <span class="mi">8</span><span class="p">]</span>
 <span class="p">[</span> <span class="mi">9</span> <span class="mi">10</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># El eje 0 es el primero, y corresponde a apilamiento vertical</span>
<span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>          <span class="c1"># axis=0 es el default</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>    <span class="c1"># Une siempre verticalmente (primer eje)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span>

       <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]])</span>
</pre></div>
</div>
<p>Veamos cómo utilizar esto cuando tenemos más dimensiones.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],[[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">]]])</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">]],</span> <span class="p">[[</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">]]])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;c: shape=</span><span class="si">{}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">shape</span><span class="p">),</span><span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">d: shape=</span><span class="si">{}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">shape</span><span class="p">),</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
 <span class="p">[[[</span> <span class="mi">1</span>  <span class="mi">2</span><span class="p">]</span>
  <span class="p">[</span> <span class="mi">3</span>  <span class="mi">4</span><span class="p">]]</span>

 <span class="p">[[</span><span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">2</span><span class="p">]</span>
  <span class="p">[</span><span class="o">-</span><span class="mi">3</span> <span class="o">-</span><span class="mi">4</span><span class="p">]]]</span>

<span class="n">d</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
 <span class="p">[[[</span>  <span class="mi">5</span>   <span class="mi">6</span><span class="p">]</span>
  <span class="p">[</span>  <span class="mi">7</span>   <span class="mi">8</span><span class="p">]]</span>

 <span class="p">[[</span>  <span class="mi">9</span>  <span class="mi">10</span><span class="p">]</span>
  <span class="p">[</span> <span class="o">-</span><span class="mi">5</span>  <span class="o">-</span><span class="mi">6</span><span class="p">]]</span>

 <span class="p">[[</span> <span class="o">-</span><span class="mi">7</span>  <span class="o">-</span><span class="mi">8</span><span class="p">]</span>
  <span class="p">[</span> <span class="o">-</span><span class="mi">9</span> <span class="o">-</span><span class="mi">10</span><span class="p">]]]</span>
</pre></div>
</div>
<p>Como tienen todas las dimensiones iguales, excepto la primera, podemos
concatenarlos a lo largo del eje 0 (verticalmente)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span>  <span class="mi">1</span><span class="p">,</span>   <span class="mi">2</span><span class="p">],</span>
        <span class="p">[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">4</span><span class="p">]],</span>

       <span class="p">[[</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="o">-</span><span class="mi">2</span><span class="p">],</span>
        <span class="p">[</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>  <span class="o">-</span><span class="mi">4</span><span class="p">]],</span>

       <span class="p">[[</span>  <span class="mi">5</span><span class="p">,</span>   <span class="mi">6</span><span class="p">],</span>
        <span class="p">[</span>  <span class="mi">7</span><span class="p">,</span>   <span class="mi">8</span><span class="p">]],</span>

       <span class="p">[[</span>  <span class="mi">9</span><span class="p">,</span>  <span class="mi">10</span><span class="p">],</span>
        <span class="p">[</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span>  <span class="o">-</span><span class="mi">6</span><span class="p">]],</span>

       <span class="p">[[</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span>  <span class="o">-</span><span class="mi">8</span><span class="p">],</span>
        <span class="p">[</span> <span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">]]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">e</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">),</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">[[[</span>  <span class="mi">1</span>   <span class="mi">2</span><span class="p">]</span>
  <span class="p">[</span>  <span class="mi">3</span>   <span class="mi">4</span><span class="p">]]</span>

 <span class="p">[[</span> <span class="o">-</span><span class="mi">1</span>  <span class="o">-</span><span class="mi">2</span><span class="p">]</span>
  <span class="p">[</span> <span class="o">-</span><span class="mi">3</span>  <span class="o">-</span><span class="mi">4</span><span class="p">]]</span>

 <span class="p">[[</span>  <span class="mi">5</span>   <span class="mi">6</span><span class="p">]</span>
  <span class="p">[</span>  <span class="mi">7</span>   <span class="mi">8</span><span class="p">]]</span>

 <span class="p">[[</span>  <span class="mi">9</span>  <span class="mi">10</span><span class="p">]</span>
  <span class="p">[</span> <span class="o">-</span><span class="mi">5</span>  <span class="o">-</span><span class="mi">6</span><span class="p">]]</span>

 <span class="p">[[</span> <span class="o">-</span><span class="mi">7</span>  <span class="o">-</span><span class="mi">8</span><span class="p">]</span>
  <span class="p">[</span> <span class="o">-</span><span class="mi">9</span> <span class="o">-</span><span class="mi">10</span><span class="p">]]]</span>
</pre></div>
</div>
</section>
<section id="apilamiento-horizontal">
<h3>Apilamiento horizontal<a class="headerlink" href="#apilamiento-horizontal" title="Enlace permanente a este encabezado"></a></h3>
<p>Si tratamos de concatenar <code class="docutils literal notranslate"><span class="pre">a</span></code>y <code class="docutils literal notranslate"><span class="pre">b</span></code> a lo largo de otro eje vamos a
recibir un error porque la forma de los <code class="docutils literal notranslate"><span class="pre">arrays</span></code> no es compatible.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">9</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">T</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">9</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">T</span><span class="p">))</span>              <span class="c1"># Como vstack pero horizontalmente</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">9</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]])</span>
</pre></div>
</div>
<img alt="_images/ilust_hstack.png" src="_images/ilust_hstack.png" />
</section>
</section>
<section id="generacion-de-numeros-aleatorios">
<h2>Generación de números aleatorios<a class="headerlink" href="#generacion-de-numeros-aleatorios" title="Enlace permanente a este encabezado"></a></h2>
<p><strong>Python</strong> tiene un módulo para generar números al azar, sin embargo
vamos a utilizar el módulo de <strong>Numpy</strong> llamado <code class="docutils literal notranslate"><span class="pre">random</span></code>. Este módulo
tiene funciones para generar números al azar siguiendo varias
distribuciones más comunes. Veamos que hay en el módulo</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">dir</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;BitGenerator&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Generator&#39;</span><span class="p">,</span>
 <span class="s1">&#39;MT19937&#39;</span><span class="p">,</span>
 <span class="s1">&#39;PCG64&#39;</span><span class="p">,</span>
 <span class="s1">&#39;PCG64DXSM&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Philox&#39;</span><span class="p">,</span>
 <span class="s1">&#39;RandomState&#39;</span><span class="p">,</span>
 <span class="s1">&#39;SFC64&#39;</span><span class="p">,</span>
 <span class="s1">&#39;SeedSequence&#39;</span><span class="p">,</span>
 <span class="s1">&#39;__RandomState_ctor&#39;</span><span class="p">,</span>
 <span class="s1">&#39;__all__&#39;</span><span class="p">,</span>
 <span class="s1">&#39;__builtins__&#39;</span><span class="p">,</span>
 <span class="s1">&#39;__cached__&#39;</span><span class="p">,</span>
 <span class="s1">&#39;__doc__&#39;</span><span class="p">,</span>
 <span class="s1">&#39;__file__&#39;</span><span class="p">,</span>
 <span class="s1">&#39;__loader__&#39;</span><span class="p">,</span>
 <span class="s1">&#39;__name__&#39;</span><span class="p">,</span>
 <span class="s1">&#39;__package__&#39;</span><span class="p">,</span>
 <span class="s1">&#39;__path__&#39;</span><span class="p">,</span>
 <span class="s1">&#39;__spec__&#39;</span><span class="p">,</span>
 <span class="s1">&#39;_bounded_integers&#39;</span><span class="p">,</span>
 <span class="s1">&#39;_common&#39;</span><span class="p">,</span>
 <span class="s1">&#39;_generator&#39;</span><span class="p">,</span>
 <span class="s1">&#39;_mt19937&#39;</span><span class="p">,</span>
 <span class="s1">&#39;_pcg64&#39;</span><span class="p">,</span>
 <span class="s1">&#39;_philox&#39;</span><span class="p">,</span>
 <span class="s1">&#39;_pickle&#39;</span><span class="p">,</span>
 <span class="s1">&#39;_sfc64&#39;</span><span class="p">,</span>
 <span class="s1">&#39;beta&#39;</span><span class="p">,</span>
 <span class="s1">&#39;binomial&#39;</span><span class="p">,</span>
 <span class="s1">&#39;bit_generator&#39;</span><span class="p">,</span>
 <span class="s1">&#39;bytes&#39;</span><span class="p">,</span>
 <span class="s1">&#39;chisquare&#39;</span><span class="p">,</span>
 <span class="s1">&#39;choice&#39;</span><span class="p">,</span>
 <span class="s1">&#39;default_rng&#39;</span><span class="p">,</span>
 <span class="s1">&#39;dirichlet&#39;</span><span class="p">,</span>
 <span class="s1">&#39;exponential&#39;</span><span class="p">,</span>
 <span class="s1">&#39;f&#39;</span><span class="p">,</span>
 <span class="s1">&#39;gamma&#39;</span><span class="p">,</span>
 <span class="s1">&#39;geometric&#39;</span><span class="p">,</span>
 <span class="s1">&#39;get_bit_generator&#39;</span><span class="p">,</span>
 <span class="s1">&#39;get_state&#39;</span><span class="p">,</span>
 <span class="s1">&#39;gumbel&#39;</span><span class="p">,</span>
 <span class="s1">&#39;hypergeometric&#39;</span><span class="p">,</span>
 <span class="s1">&#39;laplace&#39;</span><span class="p">,</span>
 <span class="s1">&#39;logistic&#39;</span><span class="p">,</span>
 <span class="s1">&#39;lognormal&#39;</span><span class="p">,</span>
 <span class="s1">&#39;logseries&#39;</span><span class="p">,</span>
 <span class="s1">&#39;mtrand&#39;</span><span class="p">,</span>
 <span class="s1">&#39;multinomial&#39;</span><span class="p">,</span>
 <span class="s1">&#39;multivariate_normal&#39;</span><span class="p">,</span>
 <span class="s1">&#39;negative_binomial&#39;</span><span class="p">,</span>
 <span class="s1">&#39;noncentral_chisquare&#39;</span><span class="p">,</span>
 <span class="s1">&#39;noncentral_f&#39;</span><span class="p">,</span>
 <span class="s1">&#39;normal&#39;</span><span class="p">,</span>
 <span class="s1">&#39;pareto&#39;</span><span class="p">,</span>
 <span class="s1">&#39;permutation&#39;</span><span class="p">,</span>
 <span class="s1">&#39;poisson&#39;</span><span class="p">,</span>
 <span class="s1">&#39;power&#39;</span><span class="p">,</span>
 <span class="s1">&#39;rand&#39;</span><span class="p">,</span>
 <span class="s1">&#39;randint&#39;</span><span class="p">,</span>
 <span class="s1">&#39;randn&#39;</span><span class="p">,</span>
 <span class="s1">&#39;random&#39;</span><span class="p">,</span>
 <span class="s1">&#39;random_integers&#39;</span><span class="p">,</span>
 <span class="s1">&#39;random_sample&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ranf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;rayleigh&#39;</span><span class="p">,</span>
 <span class="s1">&#39;sample&#39;</span><span class="p">,</span>
 <span class="s1">&#39;seed&#39;</span><span class="p">,</span>
 <span class="s1">&#39;set_bit_generator&#39;</span><span class="p">,</span>
 <span class="s1">&#39;set_state&#39;</span><span class="p">,</span>
 <span class="s1">&#39;shuffle&#39;</span><span class="p">,</span>
 <span class="s1">&#39;standard_cauchy&#39;</span><span class="p">,</span>
 <span class="s1">&#39;standard_exponential&#39;</span><span class="p">,</span>
 <span class="s1">&#39;standard_gamma&#39;</span><span class="p">,</span>
 <span class="s1">&#39;standard_normal&#39;</span><span class="p">,</span>
 <span class="s1">&#39;standard_t&#39;</span><span class="p">,</span>
 <span class="s1">&#39;test&#39;</span><span class="p">,</span>
 <span class="s1">&#39;triangular&#39;</span><span class="p">,</span>
 <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
 <span class="s1">&#39;vonmises&#39;</span><span class="p">,</span>
 <span class="s1">&#39;wald&#39;</span><span class="p">,</span>
 <span class="s1">&#39;weibull&#39;</span><span class="p">,</span>
 <span class="s1">&#39;zipf&#39;</span><span class="p">]</span>
</pre></div>
</div>
<section id="distribucion-uniforme">
<h3>Distribución uniforme<a class="headerlink" href="#distribucion-uniforme" title="Enlace permanente a este encabezado"></a></h3>
<p>Si elegimos números al azar con una distribución de probabilidad
uniforme, la probabilidad de que el número elegido caiga en un intervalo
dado es simplemente proporcional al tamaño del intervalo.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mf">0.87738603</span> <span class="mf">0.27359484</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">0.7933179</span>  <span class="mf">0.31576094</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">0.71228985</span> <span class="mf">0.29262873</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">0.47195602</span> <span class="mf">0.51375651</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mf">0.68215547</span><span class="p">,</span> <span class="mf">0.51390782</span><span class="p">,</span> <span class="mf">0.96983951</span><span class="p">,</span> <span class="mf">0.9688513</span> <span class="p">,</span> <span class="mf">0.73643836</span><span class="p">,</span>
       <span class="mf">0.33811581</span><span class="p">,</span> <span class="mf">0.07326199</span><span class="p">,</span> <span class="mf">0.41935964</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">Help on built-in function random:

random(...) method of numpy.random.mtrand.RandomState instance
    random(size=None)

    Return random floats in the half-open interval [0.0, 1.0). Alias for
    <cite>random_sample</cite> to ease forward-porting to the new random API.</pre>
<p>Como se infiere de este resultado, la función <code class="docutils literal notranslate"><span class="pre">random</span></code> (o
<code class="docutils literal notranslate"><span class="pre">random_sample</span></code>) nos da una distribución de puntos aleatorios entre 0
y 1, uniformemente distribuidos.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">4000</span><span class="p">),</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/10_2_indexado_124_0.png" src="_images/10_2_indexado_124_0.png" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">Help on built-in function uniform:

uniform(...) method of numpy.random.mtrand.RandomState instance
    uniform(low=0.0, high=1.0, size=None)

    Draw samples from a uniform distribution.

    Samples are uniformly distributed over the half-open interval
    <code class="docutils literal notranslate"><span class="pre">[low,</span> <span class="pre">high)</span></code> (includes low, but excludes high).  In other words,
    any value within the given interval is equally likely to be drawn
    by <cite>uniform</cite>.

    .. note::
        New code should use the <cite>~numpy.random.Generator.uniform</cite>
        method of a <cite>~numpy.random.Generator</cite> instance instead;
        please see the <span class="xref std std-ref">random-quick-start</span>.

    Parameters
    ----------
    low : float or array_like of floats, optional
        Lower boundary of the output interval.  All values generated will be
        greater than or equal to low.  The default value is 0.
    high : float or array_like of floats
        Upper boundary of the output interval.  All values generated will be
        less than or equal to high.  The high limit may be included in the
        returned array of floats due to floating-point rounding in the
        equation <code class="docutils literal notranslate"><span class="pre">low</span> <span class="pre">+</span> <span class="pre">(high-low)</span> <span class="pre">*</span> <span class="pre">random_sample()</span></code>.  The default value
        is 1.0.
    size : int or tuple of ints, optional
        Output shape.  If the given shape is, e.g., <code class="docutils literal notranslate"><span class="pre">(m,</span> <span class="pre">n,</span> <span class="pre">k)</span></code>, then
        <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">*</span> <span class="pre">n</span> <span class="pre">*</span> <span class="pre">k</span></code> samples are drawn.  If size is <code class="docutils literal notranslate"><span class="pre">None</span></code> (default),
        a single value is returned if <code class="docutils literal notranslate"><span class="pre">low</span></code> and <code class="docutils literal notranslate"><span class="pre">high</span></code> are both scalars.
        Otherwise, <code class="docutils literal notranslate"><span class="pre">np.broadcast(low,</span> <span class="pre">high).size</span></code> samples are drawn.

    Returns
    -------
    out : ndarray or scalar
        Drawn samples from the parameterized uniform distribution.

    See Also
    --------
    randint : Discrete uniform distribution, yielding integers.
    random_integers : Discrete uniform distribution over the closed
                      interval <code class="docutils literal notranslate"><span class="pre">[low,</span> <span class="pre">high]</span></code>.
    random_sample : Floats uniformly distributed over <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1)</span></code>.
    random : Alias for <cite>random_sample</cite>.
    rand : Convenience function that accepts dimensions as input, e.g.,
           <code class="docutils literal notranslate"><span class="pre">rand(2,2)</span></code> would generate a 2-by-2 array of floats,
           uniformly distributed over <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1)</span></code>.
    random.Generator.uniform: which should be used for new code.

    Notes
    -----
    The probability density function of the uniform distribution is

    .. math:: p(x) = frac{1}{b - a}

    anywhere within the interval <code class="docutils literal notranslate"><span class="pre">[a,</span> <span class="pre">b)</span></code>, and zero elsewhere.

    When <code class="docutils literal notranslate"><span class="pre">high</span></code> == <code class="docutils literal notranslate"><span class="pre">low</span></code>, values of <code class="docutils literal notranslate"><span class="pre">low</span></code> will be returned.
    If <code class="docutils literal notranslate"><span class="pre">high</span></code> &lt; <code class="docutils literal notranslate"><span class="pre">low</span></code>, the results are officially undefined
    and may eventually raise an error, i.e. do not rely on this
    function to behave when passed arguments satisfying that
    inequality condition. The <code class="docutils literal notranslate"><span class="pre">high</span></code> limit may be included in the
    returned array of floats due to floating-point rounding in the
    equation <code class="docutils literal notranslate"><span class="pre">low</span> <span class="pre">+</span> <span class="pre">(high-low)</span> <span class="pre">*</span> <span class="pre">random_sample()</span></code>. For example:

    &gt;&gt;&gt; x = np.float32(5*0.99999999)
    &gt;&gt;&gt; x
    5.0


    Examples
    --------
    Draw samples from the distribution:

    &gt;&gt;&gt; s = np.random.uniform(-1,0,1000)

    All values are within the given interval:

    &gt;&gt;&gt; np.all(s &gt;= -1)
    True
    &gt;&gt;&gt; np.all(s &lt; 0)
    True

    Display the histogram of the samples, along with the
    probability density function:

    &gt;&gt;&gt; import matplotlib.pyplot as plt
    &gt;&gt;&gt; count, bins, ignored = plt.hist(s, 15, density=True)
    &gt;&gt;&gt; plt.plot(bins, np.ones_like(bins), linewidth=2, color='r')
    &gt;&gt;&gt; plt.show()</pre>
</section>
<section id="distribucion-normal-gaussiana">
<h3>Distribución normal (Gaussiana)<a class="headerlink" href="#distribucion-normal-gaussiana" title="Enlace permanente a este encabezado"></a></h3>
<p>Una distribución de probabilidad normal tiene la forma Gaussiana</p>
<div class="math notranslate nohighlight">
\[p(x) = \frac{1}{\sqrt{ 2 \pi \sigma^2 }} e^{ - \frac{ (x - \mu)^2 } {2 \sigma^2} }.\]</div>
<p>En <strong>Numpy</strong> la función que nos da elementos con esa distribución de
probabilidad es:</p>
<p><code class="docutils literal notranslate"><span class="pre">np.random.normal(loc=0.0,</span> <span class="pre">scale=1.0,</span> <span class="pre">size=None)</span></code></p>
<p>donde: - <code class="docutils literal notranslate"><span class="pre">loc</span></code> es la posición del máximo (valor medio) - <code class="docutils literal notranslate"><span class="pre">scale</span></code> es
el ancho de la distribución - <code class="docutils literal notranslate"><span class="pre">size</span></code> es el número de puntos a calcular
(o forma)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">4000</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">z</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/10_2_indexado_128_0.png" src="_images/10_2_indexado_128_0.png" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">6.43899766e-01</span><span class="p">,</span>  <span class="mf">1.80236877e-01</span><span class="p">,</span>  <span class="mf">4.89865423e-02</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">4.68491488e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.26936924e-01</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">6.85443518e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.25737324e+00</span><span class="p">,</span>  <span class="mf">4.77186587e-01</span><span class="p">,</span>
         <span class="mf">1.19239608e-03</span><span class="p">,</span>  <span class="mf">4.30593597e-01</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">2.75091103e-01</span><span class="p">,</span>  <span class="mf">3.27087423e-01</span><span class="p">,</span>  <span class="mf">1.10155231e+00</span><span class="p">,</span>
         <span class="mf">6.96904733e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.72045557e-01</span><span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="histogramas">
<h3>Histogramas<a class="headerlink" href="#histogramas" title="Enlace permanente a este encabezado"></a></h3>
<p>Para visualizar los números generados y comparar su ocurrencia con la
distribución de probabilidad vamos a generar histogramas usando <em>Numpy</em>
y <em>Matplotlib</em></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">h</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">3.50540144</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.16735138</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.82930131</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.49125125</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.15320119</span><span class="p">,</span>
       <span class="o">-</span><span class="mf">1.81515113</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.47710106</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.139051</span>  <span class="p">,</span> <span class="o">-</span><span class="mf">0.80100094</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.46295087</span><span class="p">,</span>
       <span class="o">-</span><span class="mf">0.12490081</span><span class="p">,</span>  <span class="mf">0.21314925</span><span class="p">,</span>  <span class="mf">0.55119932</span><span class="p">,</span>  <span class="mf">0.88924938</span><span class="p">,</span>  <span class="mf">1.22729944</span><span class="p">,</span>
        <span class="mf">1.56534951</span><span class="p">,</span>  <span class="mf">1.90339957</span><span class="p">,</span>  <span class="mf">2.24144963</span><span class="p">,</span>  <span class="mf">2.5794997</span> <span class="p">,</span>  <span class="mf">2.91754976</span><span class="p">,</span>
        <span class="mf">3.25559982</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">h</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span>  <span class="mi">1</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>  <span class="mi">21</span><span class="p">,</span>  <span class="mi">42</span><span class="p">,</span>  <span class="mi">75</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">213</span><span class="p">,</span> <span class="mi">317</span><span class="p">,</span> <span class="mi">458</span><span class="p">,</span> <span class="mi">531</span><span class="p">,</span> <span class="mi">523</span><span class="p">,</span> <span class="mi">494</span><span class="p">,</span> <span class="mi">414</span><span class="p">,</span>
       <span class="mi">293</span><span class="p">,</span> <span class="mi">219</span><span class="p">,</span> <span class="mi">134</span><span class="p">,</span>  <span class="mi">75</span><span class="p">,</span>  <span class="mi">26</span><span class="p">,</span>  <span class="mi">14</span><span class="p">,</span>   <span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">h</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>La función retorna <code class="docutils literal notranslate"><span class="pre">b</span></code>: los límites de los intervalos en el eje x y
<code class="docutils literal notranslate"><span class="pre">h</span></code> las alturas</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">h</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">h</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span>
<span class="c1">#plt.show()</span>
</pre></div>
</div>
<img alt="_images/10_2_indexado_137_0.png" src="_images/10_2_indexado_137_0.png" />
<p><strong>Matplotlib</strong> tiene una función similar, que directamente realiza el
gráfico</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">h1</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">p1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="c1">#x1 = (b1[:-1] + b1[1:])/2</span>
<span class="c1">#plt.plot(x1, h1, &#39;-k&#39;, lw=4)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/10_2_indexado_139_0.png" src="_images/10_2_indexado_139_0.png" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">h1</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">b1</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">20</span> <span class="mi">21</span>
</pre></div>
</div>
<p>Veamos otro ejemplo, agregando algún otro argumento opcional</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
         <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s1">&#39;stepfilled&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/10_2_indexado_142_0.png" src="_images/10_2_indexado_142_0.png" />
<p>En este último ejemplo, cambiamos la orientación a <code class="docutils literal notranslate"><span class="pre">horizontal</span></code> y
además normalizamos los resultados, de manera tal que la integral bajo
(a la izquierda de, en este caso) la curva sea igual a 1.</p>
</section>
<section id="distribucion-binomial">
<h3>Distribución binomial<a class="headerlink" href="#distribucion-binomial" title="Enlace permanente a este encabezado"></a></h3>
<p>Cuando ocurre un evento que puede tener sólo dos resultados (verdadero,
con probabilidad <span class="math notranslate nohighlight">\(p\)</span>, y falso con probabilidad <span class="math notranslate nohighlight">\((1-p)\)</span>) y lo
repetimos <span class="math notranslate nohighlight">\(N\)</span> veces, la probabilidad de obtener el resultado con
probabilidad <span class="math notranslate nohighlight">\(p\)</span> es</p>
<div class="math notranslate nohighlight">
\[P(n) = \binom{N}{n}p^{n}(1-p)^{N-n},\]</div>
<p>Para elegir números al azar con esta distribución de probabilidad
<strong>Numpy</strong> tiene la función <code class="docutils literal notranslate"><span class="pre">binomial</span></code>, cuyo primer argumento es
<span class="math notranslate nohighlight">\(N\)</span> y el segundo <span class="math notranslate nohighlight">\(p\)</span>. Por ejemplo si tiramos una moneda 100
veces, y queremos saber cuál es la probabilidad de obtener cara
<span class="math notranslate nohighlight">\(n\)</span> veces podemos usar:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">zb</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">30000</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">zb</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">41</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">70</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$n$ (veces &quot;cara&quot;)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;$n$ (veces &quot;cara&quot;)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/10_2_indexado_145_1.png" src="_images/10_2_indexado_145_1.png" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">Help on built-in function binomial:

binomial(...) method of numpy.random.mtrand.RandomState instance
    binomial(n, p, size=None)

    Draw samples from a binomial distribution.

    Samples are drawn from a binomial distribution with specified
    parameters, n trials and p probability of success where
    n an integer &gt;= 0 and p is in the interval [0,1]. (n may be
    input as a float, but it is truncated to an integer in use)

    .. note::
        New code should use the <cite>~numpy.random.Generator.binomial</cite>
        method of a <cite>~numpy.random.Generator</cite> instance instead;
        please see the <span class="xref std std-ref">random-quick-start</span>.

    Parameters
    ----------
    n : int or array_like of ints
        Parameter of the distribution, &gt;= 0. Floats are also accepted,
        but they will be truncated to integers.
    p : float or array_like of floats
        Parameter of the distribution, &gt;= 0 and &lt;=1.
    size : int or tuple of ints, optional
        Output shape.  If the given shape is, e.g., <code class="docutils literal notranslate"><span class="pre">(m,</span> <span class="pre">n,</span> <span class="pre">k)</span></code>, then
        <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">*</span> <span class="pre">n</span> <span class="pre">*</span> <span class="pre">k</span></code> samples are drawn.  If size is <code class="docutils literal notranslate"><span class="pre">None</span></code> (default),
        a single value is returned if <code class="docutils literal notranslate"><span class="pre">n</span></code> and <code class="docutils literal notranslate"><span class="pre">p</span></code> are both scalars.
        Otherwise, <code class="docutils literal notranslate"><span class="pre">np.broadcast(n,</span> <span class="pre">p).size</span></code> samples are drawn.

    Returns
    -------
    out : ndarray or scalar
        Drawn samples from the parameterized binomial distribution, where
        each sample is equal to the number of successes over the n trials.

    See Also
    --------
    scipy.stats.binom : probability density function, distribution or
        cumulative density function, etc.
    random.Generator.binomial: which should be used for new code.

    Notes
    -----
    The probability density for the binomial distribution is

    .. math:: P(N) = binom{n}{N}p^N(1-p)^{n-N},

    where <span class="math notranslate nohighlight">\(n\)</span> is the number of trials, <span class="math notranslate nohighlight">\(p\)</span> is the probability
    of success, and <span class="math notranslate nohighlight">\(N\)</span> is the number of successes.

    When estimating the standard error of a proportion in a population by
    using a random sample, the normal distribution works well unless the
    product p*n &lt;=5, where p = population proportion estimate, and n =
    number of samples, in which case the binomial distribution is used
    instead. For example, a sample of 15 people shows 4 who are left
    handed, and 11 who are right handed. Then p = 4/15 = 27%. 0.27*15 = 4,
    so the binomial distribution should be used in this case.

    References
    ----------
    .. [1] Dalgaard, Peter, &quot;Introductory Statistics with R&quot;,
           Springer-Verlag, 2002.
    .. [2] Glantz, Stanton A. &quot;Primer of Biostatistics.&quot;, McGraw-Hill,
           Fifth Edition, 2002.
    .. [3] Lentner, Marvin, &quot;Elementary Applied Statistics&quot;, Bogden
           and Quigley, 1972.
    .. [4] Weisstein, Eric W. &quot;Binomial Distribution.&quot; From MathWorld--A
           Wolfram Web Resource.
           <a class="reference external" href="http://mathworld.wolfram.com/BinomialDistribution.html">http://mathworld.wolfram.com/BinomialDistribution.html</a>
    .. [5] Wikipedia, &quot;Binomial distribution&quot;,
           <a class="reference external" href="https://en.wikipedia.org/wiki/Binomial_distribution">https://en.wikipedia.org/wiki/Binomial_distribution</a>

    Examples
    --------
    Draw samples from the distribution:

    &gt;&gt;&gt; n, p = 10, .5  # number of trials, probability of each trial
    &gt;&gt;&gt; s = np.random.binomial(n, p, 1000)
    # result of flipping a coin 10 times, tested 1000 times.

    A real world example. A company drills 9 wild-cat oil exploration
    wells, each with an estimated probability of success of 0.1. All nine
    wells fail. What is the probability of that happening?

    Let's do 20,000 trials of the model, and count the number that
    generate zero positive results.

    &gt;&gt;&gt; sum(np.random.binomial(9, 0.1, 20000) == 0)/20000.
    # answer = 0.38885, or 38%.</pre>
<p>Este gráfico ilustra la probabilidad de obtener <span class="math notranslate nohighlight">\(n\)</span> veces un lado
(cara) si tiramos 100 veces una moneda, como función de <span class="math notranslate nohighlight">\(n\)</span>.</p>
</section>
</section>
<hr class="docutils" />
<section id="ejercicios-10-b">
<h2>Ejercicios 10 (b)<a class="headerlink" href="#ejercicios-10-b" title="Enlace permanente a este encabezado"></a></h2>
<ol class="arabic" start="2">
<li><p>Vamos a estudiar la frecuencia de aparición de cada dígito en la
serie de Fibonacci, generada siguiendo las reglas:</p>
<div class="math notranslate nohighlight">
\[a_{1} = a_{2} = 1, \quad a_{i} = a_{i-1} + a_{i-2}.\]</div>
<p>Se pide:</p>
<ol class="arabic">
<li><p>Crear una función que acepta como argumento un número entero
<span class="math notranslate nohighlight">\(N\)</span> y retorna una secuencia (lista, tupla, diccionario o
<em>array</em>) con los elementos de la serie de Fibonacci.</p></li>
<li><p>Crear una función que devuelva un histograma de ocurrencia de cada
uno de los dígitos en el primer lugar del número. Por ejemplo para
los primeros 8 valores (<span class="math notranslate nohighlight">\(N=8\)</span>): <span class="math notranslate nohighlight">\(1,1,2,3,5,8,13,21\)</span>
tendremos que el <span class="math notranslate nohighlight">\(1\)</span> aparece 3 veces, el <span class="math notranslate nohighlight">\(2\)</span> aparece
<span class="math notranslate nohighlight">\(2\)</span> veces, <span class="math notranslate nohighlight">\(3, 5, 8\)</span> una vez. Normalizar los datos
dividiendo por el número de valores <span class="math notranslate nohighlight">\(N\)</span>.</p></li>
<li><p>Utilizando las dos funciones anteriores graficar el histograma
para un número <span class="math notranslate nohighlight">\(N\)</span> grande y comparar los resultados con la
ley de Benford</p>
<div class="math notranslate nohighlight">
\[P(n) = \log_{10}\left(1+ \frac{1}{d} \right).\]</div>
</li>
</ol>
</li>
<li><p><strong>PARA ENTREGAR:</strong> Estimar el valor de π usando diferentes métodos
basados en el método de Monte Carlo:</p>
<ol class="arabic simple">
<li><p>Crear una función para calcular el valor de <span class="math notranslate nohighlight">\(\pi\)</span> usando el
“método de cociente de áreas”. Para ello:</p></li>
</ol>
<ul class="simple">
<li><p>Generar puntos en el plano dentro del cuadrado de lado unidad cuyo
lado inferior va de <span class="math notranslate nohighlight">\(x=0\)</span> a <span class="math notranslate nohighlight">\(x=1\)</span></p></li>
<li><p>Contar cuantos puntos caen dentro del (cuarto de) círculo unidad.
Este número tiende a ser proporcional al área del círculo</p></li>
<li><p>La estimación de <span class="math notranslate nohighlight">\(\pi\)</span> será igual a cuatro veces el cociente
de números dentro del círculo dividido por el número total de
puntos.</p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p>Crear una función para calcular el valor de <span class="math notranslate nohighlight">\(\pi\)</span> usando el
“método del valor medio”: Este método se basa en la idea de que el
valor medio de una función se puede calcular de la siguiente
manera:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[\langle f \rangle = \frac{1}{b-a} \int_{a}^{b} f(x)\, dx\]</div>
<p>Tomando la función particular <span class="math notranslate nohighlight">\(f(x)= \sqrt{1- x^{2}}\)</span> entre
<span class="math notranslate nohighlight">\(x=0\)</span> y <span class="math notranslate nohighlight">\(x=1\)</span>, obtenemos:</p>
<div class="math notranslate nohighlight">
\[\langle f \rangle = \int_{0}^{1} \sqrt{1- x^{2}}\, dx = \frac{\pi}{4}\]</div>
<p>Entonces, tenemos que estimar el valor medio de la función <span class="math notranslate nohighlight">\(f\)</span>
y, mediante la relación anterior obtener
<span class="math notranslate nohighlight">\(\pi = 4 \langle f(x) \rangle\)</span>. Para obtener el valor medio de
la función notamos que si tomamos <span class="math notranslate nohighlight">\(X\)</span> es una variable aleatoria
entre 0 y 1, entonces el valor medio de <span class="math notranslate nohighlight">\(f(X)\)</span> es justamente
<span class="math notranslate nohighlight">\(\langle f \rangle\)</span>. Su función debe entonces</p>
<ul class="simple">
<li><p>Generar puntos aleatoriamente en el intervalo <span class="math notranslate nohighlight">\([0,1]\)</span></p></li>
<li><p>Calcular el valor medio de <span class="math notranslate nohighlight">\(f(x)\)</span> para los puntos aleatorios
<span class="math notranslate nohighlight">\(x\)</span>.</p></li>
<li><p>El resultado va a ser igual al valor de la integral, y por lo
tanto a <span class="math notranslate nohighlight">\(\pi/4\)</span>.</p></li>
</ul>
<ol class="arabic simple" start="3">
<li><p>Utilizar las funciones anteriores con diferentes valores para el
número total de puntos <span class="math notranslate nohighlight">\(N\)</span>. En particular, hacerlo para 20
valores de <span class="math notranslate nohighlight">\(N\)</span> equiespaciados logarítmicamente entre 100 y
10000. Para cada valor de <span class="math notranslate nohighlight">\(N\)</span> calcular la estimación de
<span class="math notranslate nohighlight">\(\pi\)</span>. Realizar un gráfico con el valor estimado como
función del número <span class="math notranslate nohighlight">\(N\)</span> con los dos métodos (dos curvas en un
solo gráfico)</p></li>
<li><p>Para <span class="math notranslate nohighlight">\(N=15000\)</span> repetir el “experimento” muchas veces (al
menos 1000) y realizar un histograma de los valores obtenidos para
<span class="math notranslate nohighlight">\(\pi\)</span> con cada método. Graficar el histograma y calcular la
desviación standard. Superponer una función Gaussiana con el mismo
ancho. El gráfico debe ser similar al siguiente (<em>el estilo de
graficación no tiene que ser el mismo</em>)</p></li>
</ol>
<img alt="_images/ejercicio_09_1.png" src="_images/ejercicio_09_1.png" />
<ol class="arabic simple" start="5">
<li><p>El método de la aguja del bufón se puede utilizar para estimar el
valor de <span class="math notranslate nohighlight">\(\pi\)</span>, y consiste en tirar agujas (o palitos,
fósforos, etc) al azar sobre una superficie rayada</p></li>
</ol>
<img alt="_images/Streicholz-Pi-wiki.jpg" src="_images/Streicholz-Pi-wiki.jpg" />
<p>Por simplicidad vamos a considerar que la distancia entre rayas
<span class="math notranslate nohighlight">\(t\)</span> es mayor que la longitud de las agujas <span class="math notranslate nohighlight">\(\ell\)</span></p>
<img alt="_images/Buffon_needle_wiki.png" src="_images/Buffon_needle_wiki.png" />
<p>La probabilidad de que una aguja cruce una línea será:</p>
<div class="math notranslate nohighlight">
\[P = \frac{2 \ell}{t\, \pi}\]</div>
<p>por lo que podemos calcular el valor de <span class="math notranslate nohighlight">\(\pi\)</span> si estimamos la
probabilidad <span class="math notranslate nohighlight">\(P\)</span>. Realizar una función que estime <span class="math notranslate nohighlight">\(\pi\)</span>
utilizando este método y repetir las comparaciones de los dos puntos
anteriores pero ahora utilizando este método y el de las áreas.</p>
</li>
</ol>
<hr class="docutils" />
<p>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pie de página">
        <a href="clase_09.html" class="btn btn-neutral float-left" title="Clase 9: Visualización" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Anterior</a>
        <a href="ejercicios.html" class="btn btn-neutral float-right" title="Ejercicios" accesskey="n" rel="next">Siguiente <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Derechos de autor IB - 2024, Juan Fiol.</p>
  </div>

  Compilado con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    proporcionado por <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>